<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2636px" preserveAspectRatio="none" style="width:1149px;height:2636px;" version="1.1" viewBox="0 0 1149 2636" width="1149px" zoomAndPan="magnify"><defs/><g><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="76" x="577.5" y="1443.5586"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="589.5" y="1469.0938">Forums</text><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="97" x2="97" y1="44.4883" y2="2586.4316"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="537.5" x2="537.5" y1="44.4883" y2="2586.4316"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="615.5" x2="615.5" y1="1477.7363" y2="2586.4316"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="714.5" x2="714.5" y1="44.4883" y2="2586.4316"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1096.5" x2="1096.5" y1="44.4883" y2="2586.4316"/><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="79" x="58" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="70" y="28.5352">Browser</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="79" x="58" y="2585.4316"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="70" y="2610.9668">Browser</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="60" x="507.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="519.5" y="28.5352">Store</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="60" x="507.5" y="2585.4316"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="519.5" y="2610.9668">Store</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="76" x="577.5" y="2585.4316"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="589.5" y="2610.9668">Forums</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="103" x="663.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="675.5" y="28.5352">FusionAuth</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="103" x="663.5" y="2585.4316"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="675.5" y="2610.9668">FusionAuth</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="71" x="1061.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="1073.5" y="28.5352">Hacker</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="71" x="1061.5" y="2585.4316"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="1073.5" y="2610.9668">Hacker</text><path d="M62,63.4883 L62,90.4883 A4,4 0 0 0 66,94.4883 L1127,94.4883 A4,4 0 0 0 1131,90.4883 L1131,69.4883 L1121,59.4883 L66,59.4883 A4,4 0 0 0 62,63.4883 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M1121,59.4883 L1121,67.4883 A2,2 0 0 0 1123,69.4883 L1131,69.4883 L1121,59.4883 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="789" x="197.75" y="82.0566">In this example FusionAuth is located at Example.com/login or Login.Example.com and returns cookies in its parent domain.</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1134.5" x="3" y="125.4541"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1137.5" y1="125.4541" y2="125.4541"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1137.5" y1="128.4541" y2="128.4541"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="86" x="527.25" y="109.7988"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="538.25" y="131.3672">Initialize</text><polygon fill="#56666F" points="525.5,180.4199,535.5,184.4199,525.5,188.4199,529.5,184.4199" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="531.5" y1="184.4199" y2="184.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="109.5" y="174.6777">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="132.5" y="174.6777">GET /</text><polygon fill="#56666F" points="108.5,219.7305,98.5,223.7305,108.5,227.7305,104.5,223.7305" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="536.5" y1="223.7305" y2="223.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="119.5" y="213.9883">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="142.5" y="213.9883">(SPA HTML, CSS &amp; JavaScript)</text><polygon fill="#56666F" points="525.5,274.3516,535.5,278.3516,525.5,282.3516,529.5,278.3516" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="531.5" y1="278.3516" y2="278.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="109.5" y="260.9541">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="132.5" y="253.2988">AJAX GET /api/user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="132.5" y="268.6094">[No cookies]</text><polygon fill="#EB8C52" points="108.5,313.6621,98.5,317.6621,108.5,321.6621,104.5,317.6621" style="stroke: #EB8C52; stroke-width: 1.0;"/><line style="stroke: #EB8C52; stroke-width: 1.0;" x1="102.5" x2="536.5" y1="317.6621" y2="317.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="119.5" y="307.9199">4</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="142.5" y="307.9199">404 Missing</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1134.5" x="3" y="351.3174"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1137.5" y1="351.3174" y2="351.3174"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1137.5" y1="354.3174" y2="354.3174"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="150" x="495.25" y="335.6621"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="122" x="506.25" y="357.2305">Login (inside SPA)</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="139.5" y1="410.2832" y2="410.2832"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="139.5" x2="139.5" y1="410.2832" y2="423.2832"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="98.5" x2="139.5" y1="423.2832" y2="423.2832"/><polygon fill="#56666F" points="108.5,419.2832,98.5,423.2832,108.5,427.2832,104.5,423.2832" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="109.5" y="400.541">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="132.5" y="400.541">Render login form</text><polygon fill="#56666F" points="703,458.5938,713,462.5938,703,466.5938,707,462.5938" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="709" y1="462.5938" y2="462.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="109.5" y="452.8516">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="132.5" y="452.8516">AJAX POST /api/login</text><polygon fill="#56666F" points="108.5,497.9043,98.5,501.9043,108.5,505.9043,104.5,501.9043" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="714" y1="501.9043" y2="501.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="119.5" y="492.1621">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="374" x="142.5" y="492.1621">[Refresh token and JWT HttpOnly w/ domain: Example.com]</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1134.5" x="3" y="535.5596"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1137.5" y1="535.5596" y2="535.5596"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1137.5" y1="538.5596" y2="538.5596"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="155" x="492.75" y="519.9043"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="503.75" y="541.4727">Shopping cart load</text><polygon fill="#56666F" points="525.5,605.8359,535.5,609.8359,525.5,613.8359,529.5,609.8359" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="531.5" y1="609.8359" y2="609.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="109.5" y="592.4385">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="132.5" y="584.7832">AJAX GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="374" x="132.5" y="600.0938">[Refresh token and JWT HttpOnly w/ domain: Example.com]</text><polygon fill="#56666F" points="108.5,645.1465,98.5,649.1465,108.5,653.1465,104.5,649.1465" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="536.5" y1="649.1465" y2="649.1465"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="119.5" y="639.4043">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="142.5" y="639.4043">(Shopping cart contents)</text><path d="M42,666.1465 L42,693.1465 A4,4 0 0 0 46,697.1465 L149,697.1465 A4,4 0 0 0 153,693.1465 L153,672.1465 L143,662.1465 L46,662.1465 A4,4 0 0 0 42,666.1465 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M143,662.1465 L143,670.1465 A2,2 0 0 0 145,672.1465 L153,672.1465 L143,662.1465 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="80" x="53" y="684.7148">JWT expires</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1134.5" x="3" y="728.1123"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1137.5" y1="728.1123" y2="728.1123"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1137.5" y1="731.1123" y2="731.1123"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="110" x="515.25" y="712.457"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="526.25" y="734.0254">Refresh JWT</text><polygon fill="#56666F" points="703,798.3887,713,802.3887,703,806.3887,707,802.3887" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="709" y1="802.3887" y2="802.3887"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="109.5" y="784.9912">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="141.5" y="777.3359">AJAX POST /api/jwt/refresh</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="370" x="141.5" y="792.6465">[Refresh token and JWT HttpOnly w/ domain Example.com]</text><polygon fill="#56666F" points="108.5,837.6992,98.5,841.6992,108.5,845.6992,104.5,841.6992" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="714" y1="841.6992" y2="841.6992"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="119.5" y="831.957">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="151.5" y="831.957">[JWT HttpOnly w/ domain: Example.com]</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1134.5" x="3" y="875.3545"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1137.5" y1="875.3545" y2="875.3545"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1137.5" y1="878.3545" y2="878.3545"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="155" x="492.75" y="859.6992"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="503.75" y="881.2676">Shopping cart load</text><polygon fill="#56666F" points="525.5,945.6309,535.5,949.6309,525.5,953.6309,529.5,949.6309" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="531.5" y1="949.6309" y2="949.6309"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="109.5" y="932.2334">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="141.5" y="924.5781">AJAX GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="374" x="141.5" y="939.8887">[Refresh token and JWT HttpOnly w/ domain: Example.com]</text><polygon fill="#56666F" points="108.5,984.9414,98.5,988.9414,108.5,992.9414,104.5,988.9414" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="536.5" y1="988.9414" y2="988.9414"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="119.5" y="979.1992">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="151.5" y="979.1992">(Shopping cart contents)</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1134.5" x="3" y="1022.5967"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1137.5" y1="1022.5967" y2="1022.5967"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1137.5" y1="1025.5967" y2="1025.5967"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="171" x="484.75" y="1006.9414"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="143" x="495.75" y="1028.5098">Re-login (inside SPA)</text><path d="M8,1059.252 L8,1086.252 A4,4 0 0 0 12,1090.252 L183,1090.252 A4,4 0 0 0 187,1086.252 L187,1065.252 L177,1055.252 L12,1055.252 A4,4 0 0 0 8,1059.252 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M177,1055.252 L177,1063.252 A2,2 0 0 0 179,1065.252 L187,1065.252 L177,1055.252 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="148" x="19" y="1077.8203">Refresh token expires</text><polygon fill="#56666F" points="703,1138.1836,713,1142.1836,703,1146.1836,707,1142.1836" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="709" y1="1142.1836" y2="1142.1836"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="109.5" y="1124.7861">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="141.5" y="1117.1309">AJAX POST /api/jwt/refresh</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="370" x="141.5" y="1132.4414">[Refresh token and JWT HttpOnly w/ domain Example.com]</text><polygon fill="#EB8C52" points="108.5,1177.4941,98.5,1181.4941,108.5,1185.4941,104.5,1181.4941" style="stroke: #EB8C52; stroke-width: 1.0;"/><line style="stroke: #EB8C52; stroke-width: 1.0;" x1="102.5" x2="714" y1="1181.4941" y2="1181.4941"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="119.5" y="1171.752">15</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="151.5" y="1171.752">404 Missing</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="139.5" y1="1220.8047" y2="1220.8047"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="139.5" x2="139.5" y1="1220.8047" y2="1233.8047"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="98.5" x2="139.5" y1="1233.8047" y2="1233.8047"/><polygon fill="#56666F" points="108.5,1229.8047,98.5,1233.8047,108.5,1237.8047,104.5,1233.8047" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="109.5" y="1211.0625">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="141.5" y="1211.0625">Login same as above</text><path d="M62,1300.8047 L62,1327.8047 A4,4 0 0 0 66,1331.8047 L1127,1331.8047 A4,4 0 0 0 1131,1327.8047 L1131,1306.8047 L1121,1296.8047 L66,1296.8047 A4,4 0 0 0 62,1300.8047 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M1121,1296.8047 L1121,1304.8047 A2,2 0 0 0 1123,1306.8047 L1131,1306.8047 L1121,1296.8047 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="429" x="377.75" y="1319.373">SSO login to forums - not provided by FusionAuth for this workflow</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1134.5" x="3" y="1412.7705"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1137.5" y1="1412.7705" y2="1412.7705"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1137.5" y1="1415.7705" y2="1415.7705"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="86" x="527.25" y="1397.1152"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="538.25" y="1418.6836">Initialize</text><polygon fill="#56666F" points="565.5,1483.0469,575.5,1487.0469,565.5,1491.0469,569.5,1487.0469" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="571.5" y1="1487.0469" y2="1487.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="109.5" y="1469.6494">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="141.5" y="1461.9941">GET /</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="141.5" y="1477.3047">[No cookies]</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="76" x="577.5" y="1443.5586"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="589.5" y="1469.0938">Forums</text><polygon fill="#56666F" points="108.5,1522.3574,98.5,1526.3574,108.5,1530.3574,104.5,1526.3574" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="614.5" y1="1526.3574" y2="1526.3574"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="119.5" y="1516.6152">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="151.5" y="1516.6152">(SPA HTML, CSS &amp; JavaScript)</text><polygon fill="#56666F" points="603.5,1576.9785,613.5,1580.9785,603.5,1584.9785,607.5,1580.9785" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="609.5" y1="1580.9785" y2="1580.9785"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="109.5" y="1563.5811">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="141.5" y="1555.9258">GET /api/user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="141.5" y="1571.2363">[No cookies]</text><polygon fill="#EB8C52" points="108.5,1616.2891,98.5,1620.2891,108.5,1624.2891,104.5,1620.2891" style="stroke: #EB8C52; stroke-width: 1.0;"/><line style="stroke: #EB8C52; stroke-width: 1.0;" x1="102.5" x2="614.5" y1="1620.2891" y2="1620.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="119.5" y="1610.5469">20</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="151.5" y="1610.5469">404 Missing</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1134.5" x="3" y="1653.9443"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1137.5" y1="1653.9443" y2="1653.9443"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1137.5" y1="1656.9443" y2="1656.9443"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="150" x="495.25" y="1638.2891"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="122" x="506.25" y="1659.8574">Login (inside SPA)</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="139.5" y1="1712.9102" y2="1712.9102"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="139.5" x2="139.5" y1="1712.9102" y2="1725.9102"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="98.5" x2="139.5" y1="1725.9102" y2="1725.9102"/><polygon fill="#56666F" points="108.5,1721.9102,98.5,1725.9102,108.5,1729.9102,104.5,1725.9102" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="109.5" y="1703.168">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="141.5" y="1703.168">Render login form</text><polygon fill="#56666F" points="703,1776.5313,713,1780.5313,703,1784.5313,707,1780.5313" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="709" y1="1780.5313" y2="1780.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="109.5" y="1763.1338">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="141.5" y="1755.4785">AJAX POST /api/login</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="382" x="141.5" y="1770.7891">[Refresh token and JWT HttpOnly w/ domain: Example.com -</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="527.5" y="1770.7891">FOR WRONG APP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="631.5" y="1770.7891">]</text><polygon fill="#56666F" points="108.5,1815.8418,98.5,1819.8418,108.5,1823.8418,104.5,1819.8418" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="714" y1="1819.8418" y2="1819.8418"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="119.5" y="1810.0996">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="405" x="151.5" y="1810.0996">[New Refresh token and JWT HttpOnly w/ domain: Example.com]</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="139.5" y1="1874.4629" y2="1874.4629"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="139.5" x2="139.5" y1="1874.4629" y2="1887.4629"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="98.5" x2="139.5" y1="1887.4629" y2="1887.4629"/><polygon fill="#56666F" points="108.5,1883.4629,98.5,1887.4629,108.5,1891.4629,104.5,1887.4629" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="109.5" y="1857.0654">24</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="295" x="141.5" y="1849.4102">Refresh token and JWT cookies from Store gets</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="299" x="141.5" y="1864.7207">clobbered by Refresh token and JWT for Forums</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1134.5" x="3" y="1921.1182"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1137.5" y1="1921.1182" y2="1921.1182"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1137.5" y1="1924.1182" y2="1924.1182"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="111" x="514.75" y="1905.4629"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="525.75" y="1927.0313">Forums load</text><polygon fill="#56666F" points="603.5,1991.3945,613.5,1995.3945,603.5,1999.3945,607.5,1995.3945" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="609.5" y1="1995.3945" y2="1995.3945"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="109.5" y="1977.9971">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="141.5" y="1970.3418">AJAX GET /api/load-posts</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="374" x="141.5" y="1985.6523">[Refresh token and JWT HttpOnly w/ domain: Example.com]</text><polygon fill="#56666F" points="108.5,2030.7051,98.5,2034.7051,108.5,2038.7051,104.5,2034.7051" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="614.5" y1="2034.7051" y2="2034.7051"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="119.5" y="2024.9629">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="151.5" y="2024.9629">(Forum posts)</text><path d="M62,2101.7051 L62,2128.7051 A4,4 0 0 0 66,2132.7051 L1127,2132.7051 A4,4 0 0 0 1131,2128.7051 L1131,2107.7051 L1121,2097.7051 L66,2097.7051 A4,4 0 0 0 62,2101.7051 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M1121,2097.7051 L1121,2105.7051 A2,2 0 0 0 1123,2107.7051 L1131,2107.7051 L1121,2097.7051 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="91" x="546.75" y="2120.2734">Attack vectors</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1134.5" x="3" y="2213.6709"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1137.5" y1="2213.6709" y2="2213.6709"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1137.5" y1="2216.6709" y2="2216.6709"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="167" x="486.75" y="2198.0156"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="139" x="497.75" y="2219.584">Stolen Refresh token</text><polygon fill="#56666F" points="726,2283.9473,716,2287.9473,726,2291.9473,722,2287.9473" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="720" x2="1096" y1="2287.9473" y2="2287.9473"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="737" y="2270.5498">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="769" y="2262.8945">POST /api/jwt/refresh</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="316" x="769" y="2278.2051">[Refresh token HttpOnly w/ domain Example.com]</text><polygon fill="#56666F" points="1085,2323.2578,1095,2327.2578,1085,2331.2578,1089,2327.2578" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="715" x2="1091" y1="2327.2578" y2="2327.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="727" y="2317.5156">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="759" y="2317.5156">[JWT HttpOnly w/ domain: Example.com]</text><polygon fill="#56666F" points="548.5,2377.8789,538.5,2381.8789,548.5,2385.8789,544.5,2381.8789" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="542.5" x2="1096" y1="2381.8789" y2="2381.8789"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="559.5" y="2364.4814">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="591.5" y="2356.8262">GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="374" x="591.5" y="2372.1367">[Refresh token and JWT HttpOnly w/ domain: Example.com]</text><polygon fill="#56666F" points="1085,2417.1895,1095,2421.1895,1085,2425.1895,1089,2421.1895" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="537.5" x2="1091" y1="2421.1895" y2="2421.1895"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="549.5" y="2411.4473">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="581.5" y="2411.4473">(Shopping cart contents)</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1134.5" x="3" y="2454.8447"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1137.5" y1="2454.8447" y2="2454.8447"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1137.5" y1="2457.8447" y2="2457.8447"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="99" x="520.75" y="2439.1895"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="531.75" y="2460.7578">Stolen JWT</text><polygon fill="#56666F" points="548.5,2525.1211,538.5,2529.1211,548.5,2533.1211,544.5,2529.1211" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="542.5" x2="1096" y1="2529.1211" y2="2529.1211"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="559.5" y="2511.7236">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="591.5" y="2504.0684">GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="591.5" y="2519.3789">[JWT HttpOnly w/ domain: Example.com]</text><polygon fill="#56666F" points="1085,2564.4316,1095,2568.4316,1085,2572.4316,1089,2568.4316" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="537.5" x2="1091" y1="2568.4316" y2="2568.4316"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="549.5" y="2558.6895">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="581.5" y="2558.6895">(Shopping cart contents)</text></g></svg>