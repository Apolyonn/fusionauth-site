<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2834px" preserveAspectRatio="none" style="width:1310px;height:2834px;" version="1.1" viewBox="0 0 1310 2834" width="1310px" zoomAndPan="magnify"><defs/><g><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="76" x="840.5" y="1750.9746"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="852.5" y="1776.5098">Forums</text><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="102" x2="102" y1="44.4883" y2="2783.6055"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="615.5" x2="615.5" y1="44.4883" y2="2783.6055"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="878.5" x2="878.5" y1="1785.1523" y2="2783.6055"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1160" x2="1160" y1="44.4883" y2="2783.6055"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1257" x2="1257" y1="44.4883" y2="2783.6055"/><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="79" x="63" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="75" y="28.5352">Browser</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="79" x="63" y="2782.6055"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="75" y="2808.1406">Browser</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="60" x="585.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="597.5" y="28.5352">Store</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="60" x="585.5" y="2782.6055"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="597.5" y="2808.1406">Store</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="76" x="840.5" y="2782.6055"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="852.5" y="2808.1406">Forums</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="103" x="1109" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="1121" y="28.5352">FusionAuth</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="103" x="1109" y="2782.6055"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="1121" y="2808.1406">FusionAuth</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="71" x="1222" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="1234" y="28.5352">Hacker</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="71" x="1222" y="2782.6055"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="1234" y="2808.1406">Hacker</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1295" x="3" y="80.1436"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1298" y1="80.1436" y2="80.1436"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1298" y1="83.1436" y2="83.1436"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="86" x="607.5" y="64.4883"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="618.5" y="86.0566">Initialize</text><polygon fill="#56666F" points="603.5,135.1094,613.5,139.1094,603.5,143.1094,607.5,139.1094" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="609.5" y1="139.1094" y2="139.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="114.5" y="129.3672">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="137.5" y="129.3672">GET /</text><polygon fill="#56666F" points="113.5,174.4199,103.5,178.4199,113.5,182.4199,109.5,178.4199" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="614.5" y1="178.4199" y2="178.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="124.5" y="168.6777">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="147.5" y="168.6777">(SPA HTML, CSS &amp; JavaScript)</text><polygon fill="#56666F" points="603.5,229.041,613.5,233.041,603.5,237.041,607.5,233.041" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="609.5" y1="233.041" y2="233.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="114.5" y="215.6436">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="137.5" y="207.9883">AJAX GET /api/user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="137.5" y="223.2988">[No cookies]</text><polygon fill="#EB8C52" points="113.5,268.3516,103.5,272.3516,113.5,276.3516,109.5,272.3516" style="stroke: #EB8C52; stroke-width: 1.0;"/><line style="stroke: #EB8C52; stroke-width: 1.0;" x1="107.5" x2="614.5" y1="272.3516" y2="272.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="124.5" y="262.6094">4</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="147.5" y="262.6094">404 Missing</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1295" x="3" y="306.0068"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1298" y1="306.0068" y2="306.0068"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1298" y1="309.0068" y2="309.0068"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="150" x="575.5" y="290.3516"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="122" x="586.5" y="311.9199">Login (inside SPA)</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="144.5" y1="364.9727" y2="364.9727"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="144.5" x2="144.5" y1="364.9727" y2="377.9727"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="103.5" x2="144.5" y1="377.9727" y2="377.9727"/><polygon fill="#56666F" points="113.5,373.9727,103.5,377.9727,113.5,381.9727,109.5,377.9727" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="114.5" y="355.2305">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="137.5" y="355.2305">Render login form</text><polygon fill="#56666F" points="603.5,413.2832,613.5,417.2832,603.5,421.2832,607.5,417.2832" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="609.5" y1="417.2832" y2="417.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="114.5" y="407.541">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="137.5" y="407.541">AJAX POST /api/login</text><polygon fill="#56666F" points="1148.5,467.9043,1158.5,471.9043,1148.5,475.9043,1152.5,471.9043" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="1154.5" y1="471.9043" y2="471.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="627.5" y="454.5068">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="650.5" y="446.8516">POST /oauth2/token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="650.5" y="462.1621">(grant_type=password)</text><polygon fill="#56666F" points="626.5,507.2148,616.5,511.2148,626.5,515.2148,622.5,511.2148" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="620.5" x2="1159.5" y1="511.2148" y2="511.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="637.5" y="501.4727">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="660.5" y="501.4727">(Refresh Token and JWT - ignored)</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="657.5" y1="550.5254" y2="550.5254"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="657.5" x2="657.5" y1="550.5254" y2="563.5254"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="616.5" x2="657.5" y1="563.5254" y2="563.5254"/><polygon fill="#56666F" points="626.5,559.5254,616.5,563.5254,626.5,567.5254,622.5,563.5254" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="627.5" y="540.7832">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="650.5" y="540.7832">Create session and store User in it</text><polygon fill="#56666F" points="113.5,614.1465,103.5,618.1465,113.5,622.1465,109.5,618.1465" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="614.5" y1="618.1465" y2="618.1465"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="600.749">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="156.5" y="593.0938">(User object)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="440" x="156.5" y="608.4043">[SesionId and Refresh token HttpOnly w/ domain: Store.Example.com]</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1295" x="3" y="651.8018"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1298" y1="651.8018" y2="651.8018"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1298" y1="654.8018" y2="654.8018"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="155" x="573" y="636.1465"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="584" y="657.7148">Shopping cart load</text><polygon fill="#56666F" points="603.5,722.0781,613.5,726.0781,603.5,730.0781,607.5,726.0781" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="609.5" y1="726.0781" y2="726.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="708.6807">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="146.5" y="701.0254">AJAX GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="447" x="146.5" y="716.3359">[SessionId and Refresh token HttpOnly w/ domain: Store.Example.com]</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="657.5" y1="765.3887" y2="765.3887"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="657.5" x2="657.5" y1="765.3887" y2="778.3887"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="616.5" x2="657.5" y1="778.3887" y2="778.3887"/><polygon fill="#56666F" points="626.5,774.3887,616.5,778.3887,626.5,782.3887,622.5,778.3887" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="627.5" y="755.6465">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="659.5" y="755.6465">Session extended</text><polygon fill="#56666F" points="113.5,813.6992,103.5,817.6992,113.5,821.6992,109.5,817.6992" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="614.5" y1="817.6992" y2="817.6992"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="807.957">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="156.5" y="807.957">(Shopping cart contents)</text><path d="M8,834.6992 L8,876.6992 A4,4 0 0 0 12,880.6992 L194,880.6992 A4,4 0 0 0 198,876.6992 L198,840.6992 L188,830.6992 L12,830.6992 A4,4 0 0 0 8,834.6992 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M188,830.6992 L188,838.6992 A2,2 0 0 0 190,840.6992 L198,840.6992 L188,830.6992 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="104" x="19" y="853.2676">Session expires</text><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="159" x="19" y="868.5781">Refresh token still valid</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1295" x="3" y="911.9756"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1298" y1="911.9756" y2="911.9756"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1298" y1="914.9756" y2="914.9756"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="155" x="573" y="896.3203"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="584" y="917.8887">Shopping cart load</text><polygon fill="#56666F" points="603.5,982.252,613.5,986.252,603.5,990.252,607.5,986.252" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="609.5" y1="986.252" y2="986.252"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="968.8545">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="146.5" y="961.1992">AJAX GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="447" x="146.5" y="976.5098">[SessionId and Refresh token HttpOnly w/ domain: Store.Example.com]</text><polygon fill="#56666F" points="1148.5,1036.873,1158.5,1040.873,1148.5,1044.873,1152.5,1040.873" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="1154.5" y1="1040.873" y2="1040.873"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="627.5" y="1023.4756">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="290" x="659.5" y="1015.8203">POST /oauth2/token or POST /api/jwt/refresh</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="659.5" y="1031.1309">(grant_type=refresh and refresh token)</text><polygon fill="#56666F" points="626.5,1076.1836,616.5,1080.1836,626.5,1084.1836,622.5,1080.1836" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="620.5" x2="1159.5" y1="1080.1836" y2="1080.1836"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="637.5" y="1070.4414">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="669.5" y="1070.4414">(JWT)</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="657.5" y1="1119.4941" y2="1119.4941"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="657.5" x2="657.5" y1="1119.4941" y2="1132.4941"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="616.5" x2="657.5" y1="1132.4941" y2="1132.4941"/><polygon fill="#56666F" points="626.5,1128.4941,616.5,1132.4941,626.5,1136.4941,622.5,1132.4941" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="627.5" y="1109.752">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="659.5" y="1109.752">Create new session</text><polygon fill="#56666F" points="113.5,1183.1152,103.5,1187.1152,113.5,1191.1152,109.5,1187.1152" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="614.5" y1="1187.1152" y2="1187.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="1169.7178">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="156.5" y="1162.0625">(Shopping cart contents)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="360" x="156.5" y="1177.373">[New SessionId HttpOnly w/ domain: Store.Example.com]</text><path d="M13,1204.1152 L13,1246.1152 A4,4 0 0 0 17,1250.1152 L188,1250.1152 A4,4 0 0 0 192,1246.1152 L192,1210.1152 L182,1200.1152 L17,1200.1152 A4,4 0 0 0 13,1204.1152 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M182,1200.1152 L182,1208.1152 A2,2 0 0 0 184,1210.1152 L192,1210.1152 L182,1200.1152 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="104" x="24" y="1222.6836">Session expires</text><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="148" x="24" y="1237.9941">Refresh token expires</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1295" x="3" y="1281.3916"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1298" y1="1281.3916" y2="1281.3916"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1298" y1="1284.3916" y2="1284.3916"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="87" x="607" y="1265.7363"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="618" y="1287.3047">Re-login</text><polygon fill="#56666F" points="603.5,1351.668,613.5,1355.668,603.5,1359.668,607.5,1355.668" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="609.5" y1="1355.668" y2="1355.668"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="1338.2705">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="146.5" y="1330.6152">AJAX GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="447" x="146.5" y="1345.9258">[SessionId and Refresh token HttpOnly w/ domain: Store.Example.com]</text><polygon fill="#56666F" points="1148.5,1406.2891,1158.5,1410.2891,1148.5,1414.2891,1152.5,1410.2891" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="1154.5" y1="1410.2891" y2="1410.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="627.5" y="1392.8916">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="290" x="659.5" y="1385.2363">POST /oauth2/token or POST /api/jwt/refresh</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="659.5" y="1400.5469">(grant_type=refresh and refresh token)</text><polygon fill="#EB8C52" points="626.5,1445.5996,616.5,1449.5996,626.5,1453.5996,622.5,1449.5996" style="stroke: #EB8C52; stroke-width: 1.0;"/><line style="stroke: #EB8C52; stroke-width: 1.0;" x1="620.5" x2="1159.5" y1="1449.5996" y2="1449.5996"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="637.5" y="1439.8574">21</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="669.5" y="1439.8574">404 Missing</text><polygon fill="#EB8C52" points="113.5,1484.9102,103.5,1488.9102,113.5,1492.9102,109.5,1488.9102" style="stroke: #EB8C52; stroke-width: 1.0;"/><line style="stroke: #EB8C52; stroke-width: 1.0;" x1="107.5" x2="614.5" y1="1488.9102" y2="1488.9102"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="1479.168">22</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="156.5" y="1479.168">401 Not Authorized</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="144.5" y1="1528.2207" y2="1528.2207"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="144.5" x2="144.5" y1="1528.2207" y2="1541.2207"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="103.5" x2="144.5" y1="1541.2207" y2="1541.2207"/><polygon fill="#56666F" points="113.5,1537.2207,103.5,1541.2207,113.5,1545.2207,109.5,1541.2207" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="1518.4785">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="146.5" y="1518.4785">Login same as above</text><path d="M67,1608.2207 L67,1635.2207 A4,4 0 0 0 71,1639.2207 L1288,1639.2207 A4,4 0 0 0 1292,1635.2207 L1292,1614.2207 L1282,1604.2207 L71,1604.2207 A4,4 0 0 0 67,1608.2207 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M1282,1604.2207 L1282,1612.2207 A2,2 0 0 0 1284,1614.2207 L1292,1614.2207 L1282,1604.2207 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="429" x="460.5" y="1626.7891">SSO login to forums - not provided by FusionAuth for this workflow</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1295" x="3" y="1720.1865"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1298" y1="1720.1865" y2="1720.1865"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1298" y1="1723.1865" y2="1723.1865"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="86" x="607.5" y="1704.5313"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="618.5" y="1726.0996">Initialize</text><polygon fill="#56666F" points="828.5,1790.4629,838.5,1794.4629,828.5,1798.4629,832.5,1794.4629" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="834.5" y1="1794.4629" y2="1794.4629"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="1777.0654">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="146.5" y="1769.4102">GET /</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="146.5" y="1784.7207">[No cookies]</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="76" x="840.5" y="1750.9746"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="852.5" y="1776.5098">Forums</text><polygon fill="#56666F" points="113.5,1829.7734,103.5,1833.7734,113.5,1837.7734,109.5,1833.7734" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="877.5" y1="1833.7734" y2="1833.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="1824.0313">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="156.5" y="1824.0313">(SPA HTML, CSS &amp; JavaScript)</text><polygon fill="#56666F" points="866.5,1884.3945,876.5,1888.3945,866.5,1892.3945,870.5,1888.3945" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="872.5" y1="1888.3945" y2="1888.3945"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="1870.9971">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="146.5" y="1863.3418">GET /api/user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="146.5" y="1878.6523">[No cookies]</text><polygon fill="#EB8C52" points="113.5,1923.7051,103.5,1927.7051,113.5,1931.7051,109.5,1927.7051" style="stroke: #EB8C52; stroke-width: 1.0;"/><line style="stroke: #EB8C52; stroke-width: 1.0;" x1="107.5" x2="877.5" y1="1927.7051" y2="1927.7051"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="1917.9629">27</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="156.5" y="1917.9629">404 Missing</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1295" x="3" y="1961.3604"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1298" y1="1961.3604" y2="1961.3604"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1298" y1="1964.3604" y2="1964.3604"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="150" x="575.5" y="1945.7051"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="122" x="586.5" y="1967.2734">Login (inside SPA)</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="144.5" y1="2020.3262" y2="2020.3262"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="144.5" x2="144.5" y1="2020.3262" y2="2033.3262"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="103.5" x2="144.5" y1="2033.3262" y2="2033.3262"/><polygon fill="#56666F" points="113.5,2029.3262,103.5,2033.3262,113.5,2037.3262,109.5,2033.3262" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="2010.584">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="146.5" y="2010.584">Render login form</text><polygon fill="#56666F" points="866.5,2068.6367,876.5,2072.6367,866.5,2076.6367,870.5,2072.6367" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="872.5" y1="2072.6367" y2="2072.6367"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="2062.8945">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="146.5" y="2062.8945">AJAX POST /api/login</text><polygon fill="#56666F" points="1148.5,2123.2578,1158.5,2127.2578,1148.5,2131.2578,1152.5,2127.2578" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="878.5" x2="1154.5" y1="2127.2578" y2="2127.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="890.5" y="2109.8604">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="922.5" y="2102.2051">POST /oauth2/token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="922.5" y="2117.5156">(grant_type=password)</text><polygon fill="#56666F" points="889.5,2162.5684,879.5,2166.5684,889.5,2170.5684,885.5,2166.5684" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="883.5" x2="1159.5" y1="2166.5684" y2="2166.5684"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="900.5" y="2156.8262">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="932.5" y="2156.8262">(Refresh Token and JWT - ignored)</text><polygon fill="#56666F" points="113.5,2217.1895,103.5,2221.1895,113.5,2225.1895,109.5,2221.1895" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="877.5" y1="2221.1895" y2="2221.1895"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="2203.792">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="156.5" y="2196.1367">(User object)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="428" x="156.5" y="2211.4473">[Refresh Token and JWT HttpOnly w/ domain: Forums.Example.com]</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1295" x="3" y="2254.8447"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1298" y1="2254.8447" y2="2254.8447"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1298" y1="2257.8447" y2="2257.8447"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="104" x="598.5" y="2239.1895"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="76" x="609.5" y="2260.7578">Forum load</text><polygon fill="#56666F" points="866.5,2325.1211,876.5,2329.1211,866.5,2333.1211,870.5,2329.1211" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="872.5" y1="2329.1211" y2="2329.1211"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="2311.7236">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="146.5" y="2304.0684">AJAX GET /api/load-posts</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="462" x="146.5" y="2319.3789">[SessionId and Refresh token HttpOnly w/ domain: Forums.Example.com]</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="878.5" x2="920.5" y1="2368.4316" y2="2368.4316"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="920.5" x2="920.5" y1="2368.4316" y2="2381.4316"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="879.5" x2="920.5" y1="2381.4316" y2="2381.4316"/><polygon fill="#56666F" points="889.5,2377.4316,879.5,2381.4316,889.5,2385.4316,885.5,2381.4316" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="890.5" y="2358.6895">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="922.5" y="2358.6895">Session extended</text><polygon fill="#56666F" points="113.5,2416.7422,103.5,2420.7422,113.5,2424.7422,109.5,2420.7422" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="877.5" y1="2420.7422" y2="2420.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="2411">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="156.5" y="2411">(Forum posts)</text><path d="M67,2487.7422 L67,2514.7422 A4,4 0 0 0 71,2518.7422 L1288,2518.7422 A4,4 0 0 0 1292,2514.7422 L1292,2493.7422 L1282,2483.7422 L71,2483.7422 A4,4 0 0 0 67,2487.7422 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M1282,2483.7422 L1282,2491.7422 A2,2 0 0 0 1284,2493.7422 L1292,2493.7422 L1282,2483.7422 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="91" x="629.5" y="2506.3105">Attack vectors</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1295" x="3" y="2599.708"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1298" y1="2599.708" y2="2599.708"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1298" y1="2602.708" y2="2602.708"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="140" x="580.5" y="2584.0527"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112" x="591.5" y="2605.6211">Stolen session id</text><polygon fill="#56666F" points="626.5,2669.9844,616.5,2673.9844,626.5,2677.9844,622.5,2673.9844" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="620.5" x2="1256.5" y1="2673.9844" y2="2673.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="637.5" y="2656.5869">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="669.5" y="2648.9316">GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="329" x="669.5" y="2664.2422">[SessionId HttpOnly w/ domain: Store.Example.com]</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="657.5" y1="2713.2949" y2="2713.2949"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="657.5" x2="657.5" y1="2713.2949" y2="2726.2949"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="616.5" x2="657.5" y1="2726.2949" y2="2726.2949"/><polygon fill="#56666F" points="626.5,2722.2949,616.5,2726.2949,626.5,2730.2949,622.5,2726.2949" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="627.5" y="2703.5527">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="659.5" y="2703.5527">Session extended</text><polygon fill="#56666F" points="1245.5,2761.6055,1255.5,2765.6055,1245.5,2769.6055,1249.5,2765.6055" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="1251.5" y1="2765.6055" y2="2765.6055"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="627.5" y="2755.8633">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="659.5" y="2755.8633">(Shopping cart contents)</text></g></svg>