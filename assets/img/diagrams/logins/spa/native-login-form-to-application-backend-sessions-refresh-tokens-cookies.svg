<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2855px" preserveAspectRatio="none" style="width:1300px;height:2855px;" version="1.1" viewBox="0 0 1300 2855" width="1300px" zoomAndPan="magnify"><defs/><g><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="76" x="840.5" y="1735.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="852.5" y="1761.1992">Forums</text><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="102" x2="102" y1="44.4883" y2="2805.2949"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="615.5" x2="615.5" y1="44.4883" y2="2805.2949"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="878.5" x2="878.5" y1="1769.8418" y2="2805.2949"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1150" x2="1150" y1="44.4883" y2="2805.2949"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1247" x2="1247" y1="44.4883" y2="2805.2949"/><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="79" x="63" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="75" y="28.5352">Browser</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="79" x="63" y="2804.2949"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="75" y="2829.8301">Browser</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="60" x="585.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="597.5" y="28.5352">Store</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="60" x="585.5" y="2804.2949"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="597.5" y="2829.8301">Store</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="76" x="840.5" y="2804.2949"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="852.5" y="2829.8301">Forums</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="103" x="1099" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="1111" y="28.5352">FusionAuth</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="103" x="1099" y="2804.2949"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="1111" y="2829.8301">FusionAuth</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="71" x="1212" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="1224" y="28.5352">Hacker</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="71" x="1212" y="2804.2949"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="1224" y="2829.8301">Hacker</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1285" x="3" y="80.1436"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1288" y1="80.1436" y2="80.1436"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1288" y1="83.1436" y2="83.1436"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="86" x="602.5" y="64.4883"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="613.5" y="86.0566">Initialize</text><polygon fill="#56666F" points="603.5,135.1094,613.5,139.1094,603.5,143.1094,607.5,139.1094" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="609.5" y1="139.1094" y2="139.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="114.5" y="129.3672">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="137.5" y="129.3672">GET /</text><polygon fill="#56666F" points="113.5,174.4199,103.5,178.4199,113.5,182.4199,109.5,178.4199" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="614.5" y1="178.4199" y2="178.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="124.5" y="168.6777">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="147.5" y="168.6777">(SPA HTML, CSS &amp; JavaScript)</text><polygon fill="#56666F" points="603.5,229.041,613.5,233.041,603.5,237.041,607.5,233.041" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="609.5" y1="233.041" y2="233.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="114.5" y="215.6436">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="137.5" y="207.9883">AJAX GET /api/user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="137.5" y="223.2988">[No cookies]</text><polygon fill="#EB8C52" points="113.5,268.3516,103.5,272.3516,113.5,276.3516,109.5,272.3516" style="stroke: #EB8C52; stroke-width: 1.0;"/><line style="stroke: #EB8C52; stroke-width: 1.0;" x1="107.5" x2="614.5" y1="272.3516" y2="272.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="124.5" y="262.6094">4</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="147.5" y="262.6094">404 Missing</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1285" x="3" y="306.0068"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1288" y1="306.0068" y2="306.0068"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1288" y1="309.0068" y2="309.0068"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="150" x="570.5" y="290.3516"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="122" x="581.5" y="311.9199">Login (inside SPA)</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="144.5" y1="364.9727" y2="364.9727"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="144.5" x2="144.5" y1="364.9727" y2="377.9727"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="103.5" x2="144.5" y1="377.9727" y2="377.9727"/><polygon fill="#56666F" points="113.5,373.9727,103.5,377.9727,113.5,381.9727,109.5,377.9727" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="114.5" y="355.2305">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="137.5" y="355.2305">Render login form</text><polygon fill="#56666F" points="603.5,413.2832,613.5,417.2832,603.5,421.2832,607.5,417.2832" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="609.5" y1="417.2832" y2="417.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="114.5" y="407.541">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="137.5" y="407.541">AJAX POST /api/login</text><polygon fill="#56666F" points="1138.5,452.5938,1148.5,456.5938,1138.5,460.5938,1142.5,456.5938" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="1144.5" y1="456.5938" y2="456.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="627.5" y="446.8516">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="650.5" y="446.8516">POST /api/login</text><polygon fill="#56666F" points="626.5,491.9043,616.5,495.9043,626.5,499.9043,622.5,495.9043" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="620.5" x2="1149.5" y1="495.9043" y2="495.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="637.5" y="486.1621">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="660.5" y="486.1621">(User, Refresh Token and JWT)</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="657.5" y1="535.2148" y2="535.2148"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="657.5" x2="657.5" y1="535.2148" y2="548.2148"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="616.5" x2="657.5" y1="548.2148" y2="548.2148"/><polygon fill="#56666F" points="626.5,544.2148,616.5,548.2148,626.5,552.2148,622.5,548.2148" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="627.5" y="525.4727">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="650.5" y="525.4727">Create session and store User in it</text><polygon fill="#56666F" points="113.5,598.8359,103.5,602.8359,113.5,606.8359,109.5,602.8359" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="614.5" y1="602.8359" y2="602.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="585.4385">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="156.5" y="577.7832">(User object)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="440" x="156.5" y="593.0938">[SesionId and Refresh token HttpOnly w/ domain: Store.Example.com]</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1285" x="3" y="636.4912"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1288" y1="636.4912" y2="636.4912"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1288" y1="639.4912" y2="639.4912"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="155" x="568" y="620.8359"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="579" y="642.4043">Shopping cart load</text><polygon fill="#56666F" points="603.5,706.7676,613.5,710.7676,603.5,714.7676,607.5,710.7676" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="609.5" y1="710.7676" y2="710.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="693.3701">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="146.5" y="685.7148">AJAX GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="447" x="146.5" y="701.0254">[SessionId and Refresh token HttpOnly w/ domain: Store.Example.com]</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="657.5" y1="750.0781" y2="750.0781"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="657.5" x2="657.5" y1="750.0781" y2="763.0781"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="616.5" x2="657.5" y1="763.0781" y2="763.0781"/><polygon fill="#56666F" points="626.5,759.0781,616.5,763.0781,626.5,767.0781,622.5,763.0781" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="627.5" y="740.3359">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="659.5" y="740.3359">Session extended</text><polygon fill="#56666F" points="113.5,798.3887,103.5,802.3887,113.5,806.3887,109.5,802.3887" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="614.5" y1="802.3887" y2="802.3887"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="792.6465">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="156.5" y="792.6465">(Shopping cart contents)</text><path d="M8,819.3887 L8,861.3887 A4,4 0 0 0 12,865.3887 L194,865.3887 A4,4 0 0 0 198,861.3887 L198,825.3887 L188,815.3887 L12,815.3887 A4,4 0 0 0 8,819.3887 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M188,815.3887 L188,823.3887 A2,2 0 0 0 190,825.3887 L198,825.3887 L188,815.3887 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="104" x="19" y="837.957">Session expires</text><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="159" x="19" y="853.2676">Refresh token still valid</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1285" x="3" y="896.665"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1288" y1="896.665" y2="896.665"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1288" y1="899.665" y2="899.665"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="155" x="568" y="881.0098"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="579" y="902.5781">Shopping cart load</text><polygon fill="#56666F" points="603.5,966.9414,613.5,970.9414,603.5,974.9414,607.5,970.9414" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="609.5" y1="970.9414" y2="970.9414"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="953.5439">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="146.5" y="945.8887">AJAX GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="447" x="146.5" y="961.1992">[SessionId and Refresh token HttpOnly w/ domain: Store.Example.com]</text><polygon fill="#56666F" points="1138.5,1021.5625,1148.5,1025.5625,1138.5,1029.5625,1142.5,1025.5625" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="1144.5" y1="1025.5625" y2="1025.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="627.5" y="1008.165">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="290" x="659.5" y="1000.5098">POST /oauth2/token or POST /api/jwt/refresh</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="659.5" y="1015.8203">(grant_type=refresh and refresh token)</text><polygon fill="#56666F" points="626.5,1060.873,616.5,1064.873,626.5,1068.873,622.5,1064.873" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="620.5" x2="1149.5" y1="1064.873" y2="1064.873"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="637.5" y="1055.1309">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="669.5" y="1055.1309">(JWT)</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="657.5" y1="1104.1836" y2="1104.1836"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="657.5" x2="657.5" y1="1104.1836" y2="1117.1836"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="616.5" x2="657.5" y1="1117.1836" y2="1117.1836"/><polygon fill="#56666F" points="626.5,1113.1836,616.5,1117.1836,626.5,1121.1836,622.5,1117.1836" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="627.5" y="1094.4414">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="659.5" y="1094.4414">Create new session</text><polygon fill="#56666F" points="113.5,1167.8047,103.5,1171.8047,113.5,1175.8047,109.5,1171.8047" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="614.5" y1="1171.8047" y2="1171.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="1154.4072">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="156.5" y="1146.752">(Shopping cart contents)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="360" x="156.5" y="1162.0625">[New SessionId HttpOnly w/ domain: Store.Example.com]</text><path d="M13,1188.8047 L13,1230.8047 A4,4 0 0 0 17,1234.8047 L188,1234.8047 A4,4 0 0 0 192,1230.8047 L192,1194.8047 L182,1184.8047 L17,1184.8047 A4,4 0 0 0 13,1188.8047 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M182,1184.8047 L182,1192.8047 A2,2 0 0 0 184,1194.8047 L192,1194.8047 L182,1184.8047 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="104" x="24" y="1207.373">Session expires</text><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="148" x="24" y="1222.6836">Refresh token expires</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1285" x="3" y="1266.0811"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1288" y1="1266.0811" y2="1266.0811"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1288" y1="1269.0811" y2="1269.0811"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="87" x="602" y="1250.4258"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="613" y="1271.9941">Re-login</text><polygon fill="#56666F" points="603.5,1336.3574,613.5,1340.3574,603.5,1344.3574,607.5,1340.3574" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="609.5" y1="1340.3574" y2="1340.3574"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="1322.96">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="146.5" y="1315.3047">AJAX GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="447" x="146.5" y="1330.6152">[SessionId and Refresh token HttpOnly w/ domain: Store.Example.com]</text><polygon fill="#56666F" points="1138.5,1390.9785,1148.5,1394.9785,1138.5,1398.9785,1142.5,1394.9785" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="1144.5" y1="1394.9785" y2="1394.9785"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="627.5" y="1377.5811">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="290" x="659.5" y="1369.9258">POST /oauth2/token or POST /api/jwt/refresh</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="659.5" y="1385.2363">(grant_type=refresh and refresh token)</text><polygon fill="#EB8C52" points="626.5,1430.2891,616.5,1434.2891,626.5,1438.2891,622.5,1434.2891" style="stroke: #EB8C52; stroke-width: 1.0;"/><line style="stroke: #EB8C52; stroke-width: 1.0;" x1="620.5" x2="1149.5" y1="1434.2891" y2="1434.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="637.5" y="1424.5469">21</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="669.5" y="1424.5469">404 Missing</text><polygon fill="#EB8C52" points="113.5,1469.5996,103.5,1473.5996,113.5,1477.5996,109.5,1473.5996" style="stroke: #EB8C52; stroke-width: 1.0;"/><line style="stroke: #EB8C52; stroke-width: 1.0;" x1="107.5" x2="614.5" y1="1473.5996" y2="1473.5996"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="1463.8574">22</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="156.5" y="1463.8574">401 Not Authorized</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="144.5" y1="1512.9102" y2="1512.9102"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="144.5" x2="144.5" y1="1512.9102" y2="1525.9102"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="103.5" x2="144.5" y1="1525.9102" y2="1525.9102"/><polygon fill="#56666F" points="113.5,1521.9102,103.5,1525.9102,113.5,1529.9102,109.5,1525.9102" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="1503.168">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="146.5" y="1503.168">Login same as above</text><path d="M67,1592.9102 L67,1619.9102 A4,4 0 0 0 71,1623.9102 L1278,1623.9102 A4,4 0 0 0 1282,1619.9102 L1282,1598.9102 L1272,1588.9102 L71,1588.9102 A4,4 0 0 0 67,1592.9102 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M1272,1588.9102 L1272,1596.9102 A2,2 0 0 0 1274,1598.9102 L1282,1598.9102 L1272,1588.9102 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="429" x="455.5" y="1611.4785">SSO login to forums - not provided by FusionAuth for this workflow</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1285" x="3" y="1704.876"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1288" y1="1704.876" y2="1704.876"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1288" y1="1707.876" y2="1707.876"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="86" x="602.5" y="1689.2207"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="613.5" y="1710.7891">Initialize</text><polygon fill="#56666F" points="828.5,1775.1523,838.5,1779.1523,828.5,1783.1523,832.5,1779.1523" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="834.5" y1="1779.1523" y2="1779.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="1761.7549">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="146.5" y="1754.0996">GET /</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="146.5" y="1769.4102">[No cookies]</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="76" x="840.5" y="1735.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="852.5" y="1761.1992">Forums</text><polygon fill="#56666F" points="113.5,1814.4629,103.5,1818.4629,113.5,1822.4629,109.5,1818.4629" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="877.5" y1="1818.4629" y2="1818.4629"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="1808.7207">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="156.5" y="1808.7207">(SPA HTML, CSS &amp; JavaScript)</text><polygon fill="#56666F" points="866.5,1869.084,876.5,1873.084,866.5,1877.084,870.5,1873.084" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="872.5" y1="1873.084" y2="1873.084"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="1855.6865">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="146.5" y="1848.0313">GET /api/user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="146.5" y="1863.3418">[No cookies]</text><polygon fill="#EB8C52" points="113.5,1908.3945,103.5,1912.3945,113.5,1916.3945,109.5,1912.3945" style="stroke: #EB8C52; stroke-width: 1.0;"/><line style="stroke: #EB8C52; stroke-width: 1.0;" x1="107.5" x2="877.5" y1="1912.3945" y2="1912.3945"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="1902.6523">27</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="156.5" y="1902.6523">404 Missing</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1285" x="3" y="1946.0498"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1288" y1="1946.0498" y2="1946.0498"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1288" y1="1949.0498" y2="1949.0498"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="150" x="570.5" y="1930.3945"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="122" x="581.5" y="1951.9629">Login (inside SPA)</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="144.5" y1="2005.0156" y2="2005.0156"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="144.5" x2="144.5" y1="2005.0156" y2="2018.0156"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="103.5" x2="144.5" y1="2018.0156" y2="2018.0156"/><polygon fill="#56666F" points="113.5,2014.0156,103.5,2018.0156,113.5,2022.0156,109.5,2018.0156" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="1995.2734">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="146.5" y="1995.2734">Render login form</text><polygon fill="#56666F" points="866.5,2053.3262,876.5,2057.3262,866.5,2061.3262,870.5,2057.3262" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="872.5" y1="2057.3262" y2="2057.3262"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="2047.584">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="146.5" y="2047.584">AJAX POST /api/login</text><polygon fill="#56666F" points="1138.5,2092.6367,1148.5,2096.6367,1138.5,2100.6367,1142.5,2096.6367" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="878.5" x2="1144.5" y1="2096.6367" y2="2096.6367"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="890.5" y="2086.8945">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="922.5" y="2086.8945">POST /api/login</text><polygon fill="#56666F" points="889.5,2131.9473,879.5,2135.9473,889.5,2139.9473,885.5,2135.9473" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="883.5" x2="1149.5" y1="2135.9473" y2="2135.9473"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="900.5" y="2126.2051">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="932.5" y="2126.2051">(Refresh Token and JWT)</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="878.5" x2="920.5" y1="2175.2578" y2="2175.2578"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="920.5" x2="920.5" y1="2175.2578" y2="2188.2578"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="879.5" x2="920.5" y1="2188.2578" y2="2188.2578"/><polygon fill="#56666F" points="889.5,2184.2578,879.5,2188.2578,889.5,2192.2578,885.5,2188.2578" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="890.5" y="2165.5156">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="922.5" y="2165.5156">Create session and store User in it</text><polygon fill="#56666F" points="113.5,2238.8789,103.5,2242.8789,113.5,2246.8789,109.5,2242.8789" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="877.5" y1="2242.8789" y2="2242.8789"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="2225.4814">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="156.5" y="2217.8262">(User object)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="465" x="156.5" y="2233.1367">[SessionId and Refresh Token HttpOnly w/ domain: Forums.Example.com]</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1285" x="3" y="2276.5342"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1288" y1="2276.5342" y2="2276.5342"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1288" y1="2279.5342" y2="2279.5342"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="104" x="593.5" y="2260.8789"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="76" x="604.5" y="2282.4473">Forum load</text><polygon fill="#56666F" points="866.5,2346.8105,876.5,2350.8105,866.5,2354.8105,870.5,2350.8105" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="872.5" y1="2350.8105" y2="2350.8105"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="2333.4131">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="146.5" y="2325.7578">AJAX GET /api/load-posts</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="462" x="146.5" y="2341.0684">[SessionId and Refresh token HttpOnly w/ domain: Forums.Example.com]</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="878.5" x2="920.5" y1="2390.1211" y2="2390.1211"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="920.5" x2="920.5" y1="2390.1211" y2="2403.1211"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="879.5" x2="920.5" y1="2403.1211" y2="2403.1211"/><polygon fill="#56666F" points="889.5,2399.1211,879.5,2403.1211,889.5,2407.1211,885.5,2403.1211" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="890.5" y="2380.3789">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="922.5" y="2380.3789">Session extended</text><polygon fill="#56666F" points="113.5,2438.4316,103.5,2442.4316,113.5,2446.4316,109.5,2442.4316" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="877.5" y1="2442.4316" y2="2442.4316"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="2432.6895">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="156.5" y="2432.6895">(Forum posts)</text><path d="M67,2509.4316 L67,2536.4316 A4,4 0 0 0 71,2540.4316 L1278,2540.4316 A4,4 0 0 0 1282,2536.4316 L1282,2515.4316 L1272,2505.4316 L71,2505.4316 A4,4 0 0 0 67,2509.4316 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M1272,2505.4316 L1272,2513.4316 A2,2 0 0 0 1274,2515.4316 L1282,2515.4316 L1272,2505.4316 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="91" x="624.5" y="2528">Attack vectors</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1285" x="3" y="2621.3975"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1288" y1="2621.3975" y2="2621.3975"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1288" y1="2624.3975" y2="2624.3975"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="140" x="575.5" y="2605.7422"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112" x="586.5" y="2627.3105">Stolen session id</text><polygon fill="#56666F" points="626.5,2691.6738,616.5,2695.6738,626.5,2699.6738,622.5,2695.6738" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="620.5" x2="1246.5" y1="2695.6738" y2="2695.6738"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="637.5" y="2678.2764">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="669.5" y="2670.6211">GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="329" x="669.5" y="2685.9316">[SessionId HttpOnly w/ domain: Store.Example.com]</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="657.5" y1="2734.9844" y2="2734.9844"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="657.5" x2="657.5" y1="2734.9844" y2="2747.9844"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="616.5" x2="657.5" y1="2747.9844" y2="2747.9844"/><polygon fill="#56666F" points="626.5,2743.9844,616.5,2747.9844,626.5,2751.9844,622.5,2747.9844" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="627.5" y="2725.2422">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="659.5" y="2725.2422">Session extended</text><polygon fill="#56666F" points="1235.5,2783.2949,1245.5,2787.2949,1235.5,2791.2949,1239.5,2787.2949" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="1241.5" y1="2787.2949" y2="2787.2949"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="627.5" y="2777.5527">39</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="659.5" y="2777.5527">(Shopping cart contents)</text></g></svg>