<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2939px" preserveAspectRatio="none" style="width:1049px;height:2939px;" version="1.1" viewBox="0 0 1049 2939" width="1049px" zoomAndPan="magnify"><defs/><g><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="76" x="485.5" y="1624.8008"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="497.5" y="1650.3359">Forums</text><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="97" x2="97" y1="44.4883" y2="2888.6055"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="445.5" x2="445.5" y1="44.4883" y2="2888.6055"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="523.5" x2="523.5" y1="1658.9785" y2="2888.6055"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="639" x2="639" y1="44.4883" y2="2888.6055"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="996" x2="996" y1="44.4883" y2="2888.6055"/><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="79" x="58" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="70" y="28.5352">Browser</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="79" x="58" y="2887.6055"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="70" y="2913.1406">Browser</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="60" x="415.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="427.5" y="28.5352">Store</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="60" x="415.5" y="2887.6055"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="427.5" y="2913.1406">Store</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="76" x="485.5" y="2887.6055"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="497.5" y="2913.1406">Forums</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="103" x="588" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="600" y="28.5352">FusionAuth</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="103" x="588" y="2887.6055"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="600" y="2913.1406">FusionAuth</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="71" x="961" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="973" y="28.5352">Hacker</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="71" x="961" y="2887.6055"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="973" y="2913.1406">Hacker</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1034" x="3" y="80.1436"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="80.1436" y2="80.1436"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="83.1436" y2="83.1436"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="86" x="477" y="64.4883"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="488" y="86.0566">Initialize</text><polygon fill="#56666F" points="433.5,135.1094,443.5,139.1094,433.5,143.1094,437.5,139.1094" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="439.5" y1="139.1094" y2="139.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="109.5" y="129.3672">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="132.5" y="129.3672">GET /</text><polygon fill="#56666F" points="108.5,174.4199,98.5,178.4199,108.5,182.4199,104.5,178.4199" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="444.5" y1="178.4199" y2="178.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="119.5" y="168.6777">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="142.5" y="168.6777">(SPA HTML, CSS &amp; JavaScript)</text><polygon fill="#56666F" points="433.5,229.041,443.5,233.041,433.5,237.041,437.5,233.041" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="439.5" y1="233.041" y2="233.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="109.5" y="215.6436">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="132.5" y="207.9883">AJAX GET /api/user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="132.5" y="223.2988">[No cookies]</text><polygon fill="#EB8C52" points="108.5,268.3516,98.5,272.3516,108.5,276.3516,104.5,272.3516" style="stroke: #EB8C52; stroke-width: 1.0;"/><line style="stroke: #EB8C52; stroke-width: 1.0;" x1="102.5" x2="444.5" y1="272.3516" y2="272.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="119.5" y="262.6094">4</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="142.5" y="262.6094">404 Missing</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1034" x="3" y="306.0068"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="306.0068" y2="306.0068"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="309.0068" y2="309.0068"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="150" x="445" y="290.3516"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="122" x="456" y="311.9199">Login (inside SPA)</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="139.5" y1="364.9727" y2="364.9727"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="139.5" x2="139.5" y1="364.9727" y2="377.9727"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="98.5" x2="139.5" y1="377.9727" y2="377.9727"/><polygon fill="#56666F" points="108.5,373.9727,98.5,377.9727,108.5,381.9727,104.5,377.9727" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="109.5" y="355.2305">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="132.5" y="355.2305">Render login form</text><polygon fill="#56666F" points="627.5,413.2832,637.5,417.2832,627.5,421.2832,631.5,417.2832" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="633.5" y1="417.2832" y2="417.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="109.5" y="407.541">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="132.5" y="407.541">AJAX POST /api/login</text><polygon fill="#56666F" points="108.5,467.9043,98.5,471.9043,108.5,475.9043,104.5,471.9043" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="638.5" y1="471.9043" y2="471.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="119.5" y="454.5068">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="142.5" y="446.8516">(JWT)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="356" x="142.5" y="462.1621">[Refresh token HttpOnly w/ domain: login.fusionauth.io]</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1034" x="3" y="505.5596"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="505.5596" y2="505.5596"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="508.5596" y2="508.5596"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="154" x="443" y="489.9043"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="126" x="454" y="511.4727">Local storage drop</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="139.5" y1="564.5254" y2="564.5254"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="139.5" x2="139.5" y1="564.5254" y2="577.5254"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="98.5" x2="139.5" y1="577.5254" y2="577.5254"/><polygon fill="#56666F" points="108.5,573.5254,98.5,577.5254,108.5,581.5254,104.5,577.5254" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="109.5" y="554.7832">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="292" x="132.5" y="554.7832">Move JWT from response body to local storage</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1034" x="3" y="611.1807"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="611.1807" y2="611.1807"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="614.1807" y2="614.1807"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="155" x="442.5" y="595.5254"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="453.5" y="617.0938">Shopping cart load</text><polygon fill="#56666F" points="433.5,681.457,443.5,685.457,433.5,689.457,437.5,685.457" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="439.5" y1="685.457" y2="685.457"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="109.5" y="668.0596">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="132.5" y="660.4043">AJAX GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="132.5" y="675.7148">(JWT from local storage)</text><polygon fill="#56666F" points="108.5,720.7676,98.5,724.7676,108.5,728.7676,104.5,724.7676" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="444.5" y1="724.7676" y2="724.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="119.5" y="715.0254">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="151.5" y="715.0254">(Shopping cart contents)</text><path d="M42,741.7676 L42,768.7676 A4,4 0 0 0 46,772.7676 L149,772.7676 A4,4 0 0 0 153,768.7676 L153,747.7676 L143,737.7676 L46,737.7676 A4,4 0 0 0 42,741.7676 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M143,737.7676 L143,745.7676 A2,2 0 0 0 145,747.7676 L153,747.7676 L143,737.7676 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="80" x="53" y="760.3359">JWT expires</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1034" x="3" y="803.7334"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="803.7334" y2="803.7334"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="806.7334" y2="806.7334"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="123" x="458.5" y="788.0781"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="95" x="469.5" y="809.6465">Token refresh</text><polygon fill="#56666F" points="627.5,874.0098,637.5,878.0098,627.5,882.0098,631.5,878.0098" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="633.5" y1="878.0098" y2="878.0098"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="109.5" y="860.6123">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="141.5" y="852.957">AJAX POST /api/jwt/refresh</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="352" x="141.5" y="868.2676">[Refresh token HttpOnly w/ domain login.fusionauth.io]</text><polygon fill="#56666F" points="108.5,913.3203,98.5,917.3203,108.5,921.3203,104.5,917.3203" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="638.5" y1="917.3203" y2="917.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="119.5" y="907.5781">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="151.5" y="907.5781">(JWT)</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1034" x="3" y="950.9756"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="950.9756" y2="950.9756"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="953.9756" y2="953.9756"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="154" x="443" y="935.3203"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="126" x="454" y="956.8887">Local storage drop</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="139.5" y1="1009.9414" y2="1009.9414"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="139.5" x2="139.5" y1="1009.9414" y2="1022.9414"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="98.5" x2="139.5" y1="1022.9414" y2="1022.9414"/><polygon fill="#56666F" points="108.5,1018.9414,98.5,1022.9414,108.5,1026.9414,104.5,1022.9414" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="109.5" y="1000.1992">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="292" x="141.5" y="1000.1992">Move JWT from response body to local storage</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1034" x="3" y="1056.5967"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="1056.5967" y2="1056.5967"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="1059.5967" y2="1059.5967"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="155" x="442.5" y="1040.9414"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="453.5" y="1062.5098">Shopping cart load</text><polygon fill="#56666F" points="433.5,1126.873,443.5,1130.873,433.5,1134.873,437.5,1130.873" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="439.5" y1="1130.873" y2="1130.873"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="109.5" y="1113.4756">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="141.5" y="1105.8203">AJAX GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="141.5" y="1121.1309">(JWT from local storage)</text><polygon fill="#56666F" points="108.5,1166.1836,98.5,1170.1836,108.5,1174.1836,104.5,1170.1836" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="444.5" y1="1170.1836" y2="1170.1836"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="119.5" y="1160.4414">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="151.5" y="1160.4414">(Shopping cart contents)</text><path d="M8,1187.1836 L8,1214.1836 A4,4 0 0 0 12,1218.1836 L183,1218.1836 A4,4 0 0 0 187,1214.1836 L187,1193.1836 L177,1183.1836 L12,1183.1836 A4,4 0 0 0 8,1187.1836 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M177,1183.1836 L177,1191.1836 A2,2 0 0 0 179,1193.1836 L187,1193.1836 L177,1183.1836 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="148" x="19" y="1205.752">Refresh token expires</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1034" x="3" y="1249.1494"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="1249.1494" y2="1249.1494"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="1252.1494" y2="1252.1494"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="87" x="476.5" y="1233.4941"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="487.5" y="1255.0625">Re-login</text><polygon fill="#56666F" points="627.5,1319.4258,637.5,1323.4258,627.5,1327.4258,631.5,1323.4258" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="633.5" y1="1323.4258" y2="1323.4258"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="109.5" y="1306.0283">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="141.5" y="1298.373">AJAX POST /api/jwt/refresh</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="291" x="141.5" y="1313.6836">[Refresh token w/ domain login.fusionauth.io]</text><polygon fill="#EB8C52" points="108.5,1358.7363,98.5,1362.7363,108.5,1366.7363,104.5,1362.7363" style="stroke: #EB8C52; stroke-width: 1.0;"/><line style="stroke: #EB8C52; stroke-width: 1.0;" x1="102.5" x2="638.5" y1="1362.7363" y2="1362.7363"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="119.5" y="1352.9941">17</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="151.5" y="1352.9941">404 Missing</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="139.5" y1="1402.0469" y2="1402.0469"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="139.5" x2="139.5" y1="1402.0469" y2="1415.0469"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="98.5" x2="139.5" y1="1415.0469" y2="1415.0469"/><polygon fill="#56666F" points="108.5,1411.0469,98.5,1415.0469,108.5,1419.0469,104.5,1415.0469" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="109.5" y="1392.3047">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="141.5" y="1392.3047">Login same as above</text><path d="M62,1482.0469 L62,1509.0469 A4,4 0 0 0 66,1513.0469 L1027,1513.0469 A4,4 0 0 0 1031,1509.0469 L1031,1488.0469 L1021,1478.0469 L66,1478.0469 A4,4 0 0 0 62,1482.0469 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M1021,1478.0469 L1021,1486.0469 A2,2 0 0 0 1023,1488.0469 L1031,1488.0469 L1021,1478.0469 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="429" x="327.5" y="1500.6152">SSO login to forums - not provided by FusionAuth for this workflow</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1034" x="3" y="1594.0127"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="1594.0127" y2="1594.0127"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="1597.0127" y2="1597.0127"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="86" x="477" y="1578.3574"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="488" y="1599.9258">Initialize</text><polygon fill="#56666F" points="473.5,1664.2891,483.5,1668.2891,473.5,1672.2891,477.5,1668.2891" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="479.5" y1="1668.2891" y2="1668.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="109.5" y="1650.8916">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="141.5" y="1643.2363">GET /</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="141.5" y="1658.5469">[No cookies]</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="76" x="485.5" y="1624.8008"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="497.5" y="1650.3359">Forums</text><polygon fill="#56666F" points="108.5,1703.5996,98.5,1707.5996,108.5,1711.5996,104.5,1707.5996" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="522.5" y1="1707.5996" y2="1707.5996"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="119.5" y="1697.8574">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="151.5" y="1697.8574">(SPA HTML, CSS &amp; JavaScript)</text><polygon fill="#56666F" points="511.5,1758.2207,521.5,1762.2207,511.5,1766.2207,515.5,1762.2207" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="517.5" y1="1762.2207" y2="1762.2207"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="109.5" y="1744.8232">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="141.5" y="1737.168">GET /api/user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="141.5" y="1752.4785">[No cookies]</text><polygon fill="#EB8C52" points="108.5,1797.5313,98.5,1801.5313,108.5,1805.5313,104.5,1801.5313" style="stroke: #EB8C52; stroke-width: 1.0;"/><line style="stroke: #EB8C52; stroke-width: 1.0;" x1="102.5" x2="522.5" y1="1801.5313" y2="1801.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="119.5" y="1791.7891">22</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="151.5" y="1791.7891">404 Missing</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1034" x="3" y="1835.1865"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="1835.1865" y2="1835.1865"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="1838.1865" y2="1838.1865"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="150" x="445" y="1819.5313"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="122" x="456" y="1841.0996">Login (inside SPA)</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="139.5" y1="1894.1523" y2="1894.1523"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="139.5" x2="139.5" y1="1894.1523" y2="1907.1523"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="98.5" x2="139.5" y1="1907.1523" y2="1907.1523"/><polygon fill="#56666F" points="108.5,1903.1523,98.5,1907.1523,108.5,1911.1523,104.5,1907.1523" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="109.5" y="1884.4102">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="141.5" y="1884.4102">Render login form</text><polygon fill="#56666F" points="627.5,1957.7734,637.5,1961.7734,627.5,1965.7734,631.5,1961.7734" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="633.5" y1="1961.7734" y2="1961.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="109.5" y="1944.376">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="141.5" y="1936.7207">AJAX POST /api/login</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="364" x="141.5" y="1952.0313">[Refresh token HttpOnly w/ domain: login.fusionauth.io -</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="509.5" y="1952.0313">FOR WRONG APP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="613.5" y="1952.0313">]</text><polygon fill="#56666F" points="108.5,2012.3945,98.5,2016.3945,108.5,2020.3945,104.5,2016.3945" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="638.5" y1="2016.3945" y2="2016.3945"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="119.5" y="1998.9971">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="151.5" y="1991.3418">(JWT)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="387" x="151.5" y="2006.6523">[New Refresh token HttpOnly w/ domain: login.fusionauth.io]</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="139.5" y1="2071.0156" y2="2071.0156"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="139.5" x2="139.5" y1="2071.0156" y2="2084.0156"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="98.5" x2="139.5" y1="2084.0156" y2="2084.0156"/><polygon fill="#56666F" points="108.5,2080.0156,98.5,2084.0156,108.5,2088.0156,104.5,2084.0156" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="109.5" y="2053.6182">26</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234" x="141.5" y="2045.9629">Refresh token cookie from Store gets</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="242" x="141.5" y="2061.2734">clobbered by refresh token for Forums</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1034" x="3" y="2117.6709"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="2117.6709" y2="2117.6709"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="2120.6709" y2="2120.6709"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="154" x="443" y="2102.0156"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="126" x="454" y="2123.584">Local storage drop</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="139.5" y1="2176.6367" y2="2176.6367"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="139.5" x2="139.5" y1="2176.6367" y2="2189.6367"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="98.5" x2="139.5" y1="2189.6367" y2="2189.6367"/><polygon fill="#56666F" points="108.5,2185.6367,98.5,2189.6367,108.5,2193.6367,104.5,2189.6367" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="109.5" y="2166.8945">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="292" x="141.5" y="2166.8945">Move JWT from response body to local storage</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1034" x="3" y="2223.292"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="2223.292" y2="2223.292"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="2226.292" y2="2226.292"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="111" x="464.5" y="2207.6367"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="475.5" y="2229.2051">Forums load</text><polygon fill="#56666F" points="511.5,2293.5684,521.5,2297.5684,511.5,2301.5684,515.5,2297.5684" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="97.5" x2="517.5" y1="2297.5684" y2="2297.5684"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="109.5" y="2280.1709">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="141.5" y="2272.5156">AJAX GET /api/load-load-posts</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="141.5" y="2287.8262">(JWT from local storage)</text><polygon fill="#56666F" points="108.5,2332.8789,98.5,2336.8789,108.5,2340.8789,104.5,2336.8789" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="522.5" y1="2336.8789" y2="2336.8789"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="119.5" y="2327.1367">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="151.5" y="2327.1367">(Forum posts)</text><path d="M62,2403.8789 L62,2430.8789 A4,4 0 0 0 66,2434.8789 L1027,2434.8789 A4,4 0 0 0 1031,2430.8789 L1031,2409.8789 L1021,2399.8789 L66,2399.8789 A4,4 0 0 0 62,2403.8789 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M1021,2399.8789 L1021,2407.8789 A2,2 0 0 0 1023,2409.8789 L1031,2409.8789 L1021,2399.8789 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="91" x="496.5" y="2422.4473">Attack vectors</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1034" x="3" y="2515.8447"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="2515.8447" y2="2515.8447"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="2518.8447" y2="2518.8447"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="164" x="438" y="2500.1895"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="136" x="449" y="2521.7578">Stolen refresh token</text><polygon fill="#56666F" points="650.5,2586.1211,640.5,2590.1211,650.5,2594.1211,646.5,2590.1211" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="644.5" x2="995.5" y1="2590.1211" y2="2590.1211"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="661.5" y="2572.7236">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="693.5" y="2565.0684">POST /api/jwt/refresh</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="291" x="693.5" y="2580.3789">[Refresh token w/ domain login.fusionauth.io]</text><polygon fill="#56666F" points="984.5,2625.4316,994.5,2629.4316,984.5,2633.4316,988.5,2629.4316" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="639.5" x2="990.5" y1="2629.4316" y2="2629.4316"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="651.5" y="2619.6895">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="683.5" y="2619.6895">(JWT)</text><polygon fill="#56666F" points="456.5,2680.0527,446.5,2684.0527,456.5,2688.0527,452.5,2684.0527" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="450.5" x2="995.5" y1="2684.0527" y2="2684.0527"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="467.5" y="2666.6553">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="499.5" y="2659">GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="499.5" y="2674.3105">(JWT from response body)</text><polygon fill="#56666F" points="984.5,2719.3633,994.5,2723.3633,984.5,2727.3633,988.5,2723.3633" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="445.5" x2="990.5" y1="2723.3633" y2="2723.3633"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="457.5" y="2713.6211">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="489.5" y="2713.6211">(Shopping cart contents)</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1034" x="3" y="2757.0186"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="2757.0186" y2="2757.0186"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1037" y1="2760.0186" y2="2760.0186"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="99" x="470.5" y="2741.3633"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="481.5" y="2762.9316">Stolen JWT</text><polygon fill="#56666F" points="456.5,2827.2949,446.5,2831.2949,456.5,2835.2949,452.5,2831.2949" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="450.5" x2="995.5" y1="2831.2949" y2="2831.2949"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="467.5" y="2813.8975">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="499.5" y="2806.2422">GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="499.5" y="2821.5527">(JWT)</text><polygon fill="#56666F" points="984.5,2866.6055,994.5,2870.6055,984.5,2874.6055,988.5,2870.6055" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="445.5" x2="990.5" y1="2870.6055" y2="2870.6055"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="457.5" y="2860.8633">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="489.5" y="2860.8633">(Shopping cart contents)</text></g></svg>