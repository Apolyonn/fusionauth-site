<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2829px" preserveAspectRatio="none" style="width:832px;height:2829px;" version="1.1" viewBox="0 0 832 2829" width="832px" zoomAndPan="magnify"><defs/><g><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="76" x="461.5" y="1755.9746"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="473.5" y="1781.5098">Forums</text><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="63" x2="63" y1="44.4883" y2="2778.916"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="421.5" x2="421.5" y1="44.4883" y2="2778.916"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="499.5" x2="499.5" y1="1790.1523" y2="2778.916"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="598.5" x2="598.5" y1="44.4883" y2="2778.916"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="779" x2="779" y1="44.4883" y2="2778.916"/><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="79" x="24" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="36" y="28.5352">Browser</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="79" x="24" y="2777.916"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="36" y="2803.4512">Browser</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="60" x="391.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="403.5" y="28.5352">Store</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="60" x="391.5" y="2777.916"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="403.5" y="2803.4512">Store</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="76" x="461.5" y="2777.916"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="473.5" y="2803.4512">Forums</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="103" x="547.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="559.5" y="28.5352">FusionAuth</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="103" x="547.5" y="2777.916"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="559.5" y="2803.4512">FusionAuth</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="71" x="744" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="756" y="28.5352">Hacker</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="71" x="744" y="2777.916"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="756" y="2803.4512">Hacker</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="817" x="3" y="80.1436"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="80.1436" y2="80.1436"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="83.1436" y2="83.1436"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="86" x="368.5" y="64.4883"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="379.5" y="86.0566">Initialize</text><polygon fill="#56666F" points="409.5,135.1094,419.5,139.1094,409.5,143.1094,413.5,139.1094" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="415.5" y1="139.1094" y2="139.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="75.5" y="129.3672">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="98.5" y="129.3672">GET /</text><polygon fill="#56666F" points="74.5,174.4199,64.5,178.4199,74.5,182.4199,70.5,178.4199" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="420.5" y1="178.4199" y2="178.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="85.5" y="168.6777">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="108.5" y="168.6777">(SPA HTML, CSS &amp; JavaScript)</text><polygon fill="#56666F" points="409.5,229.041,419.5,233.041,409.5,237.041,413.5,233.041" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="415.5" y1="233.041" y2="233.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="75.5" y="215.6436">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="98.5" y="207.9883">AJAX GET /api/user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="98.5" y="223.2988">[No cookies]</text><polygon fill="#EB8C52" points="74.5,268.3516,64.5,272.3516,74.5,276.3516,70.5,272.3516" style="stroke: #EB8C52; stroke-width: 1.0;"/><line style="stroke: #EB8C52; stroke-width: 1.0;" x1="68.5" x2="420.5" y1="272.3516" y2="272.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="85.5" y="262.6094">4</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="108.5" y="262.6094">404 Missing</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="817" x="3" y="306.0068"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="306.0068" y2="306.0068"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="309.0068" y2="309.0068"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="309" x="257" y="290.3516"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="281" x="268" y="311.9199">Login (browser navigates away from SPA)</text><polygon fill="#56666F" points="587,360.9727,597,364.9727,587,368.9727,591,364.9727" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="593" y1="364.9727" y2="364.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="75.5" y="355.2305">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="294" x="98.5" y="355.2305">GET /oauth2/authorize {response_type=token}</text><polygon fill="#56666F" points="74.5,400.2832,64.5,404.2832,74.5,408.2832,70.5,404.2832" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="598" y1="404.2832" y2="404.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="85.5" y="394.541">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="108.5" y="394.541">(Login form HTML)</text><polygon fill="#56666F" points="587,439.5938,597,443.5938,587,447.5938,591,443.5938" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="593" y1="443.5938" y2="443.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="75.5" y="433.8516">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="302" x="98.5" y="433.8516">POST /oauth2/authorize (response_type=token)</text><polygon fill="#56666F" points="74.5,494.2148,64.5,498.2148,74.5,502.2148,70.5,498.2148" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="598" y1="498.2148" y2="498.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="85.5" y="480.8174">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="446" x="108.5" y="473.1621">302 Location: {redirect_uri w/ JWT in redirect URI and no refresh token}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="329" x="108.5" y="488.4727">[SessionId HttpOnly w/ domain: login.fusionauth.io]</text><polygon fill="#56666F" points="409.5,533.5254,419.5,537.5254,409.5,541.5254,413.5,537.5254" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="415.5" y1="537.5254" y2="537.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="75.5" y="527.7832">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="98.5" y="527.7832">GET {redirect_uri w/o JWT in URI}</text><polygon fill="#56666F" points="74.5,572.8359,64.5,576.8359,74.5,580.8359,70.5,576.8359" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="420.5" y1="576.8359" y2="576.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="567.0938">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="117.5" y="567.0938">(SPA HTML, CSS &amp; JavaScript)</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="817" x="3" y="610.4912"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="610.4912" y2="610.4912"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="613.4912" y2="613.4912"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="109" x="357" y="594.8359"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="81" x="368" y="616.4043">Cookie drop</text><polygon fill="#56666F" points="409.5,680.7676,419.5,684.7676,409.5,688.7676,413.5,684.7676" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="415.5" y1="684.7676" y2="684.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="667.3701">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="107.5" y="659.7148">AJAX POST /api/cookie-drop</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="107.5" y="675.0254">(JWT from redirect_uri)</text><polygon fill="#56666F" points="74.5,720.0781,64.5,724.0781,74.5,728.0781,70.5,724.0781" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="420.5" y1="724.0781" y2="724.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="714.3359">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="292" x="117.5" y="714.3359">[JWT HttpOnly w/ domain: Store.Example.com]</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="817" x="3" y="757.7334"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="757.7334" y2="757.7334"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="760.7334" y2="760.7334"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="155" x="334" y="742.0781"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="345" y="763.6465">Shopping cart load</text><polygon fill="#56666F" points="409.5,828.0098,419.5,832.0098,409.5,836.0098,413.5,832.0098" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="415.5" y1="832.0098" y2="832.0098"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="814.6123">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="107.5" y="806.957">AJAX GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="292" x="107.5" y="822.2676">[JWT HttpOnly w/ domain: Store.Example.com]</text><polygon fill="#56666F" points="74.5,867.3203,64.5,871.3203,74.5,875.3203,70.5,871.3203" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="420.5" y1="871.3203" y2="871.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="861.5781">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="117.5" y="861.5781">(Shopping cart contents)</text><path d="M8,888.3203 L8,915.3203 A4,4 0 0 0 12,919.3203 L115,919.3203 A4,4 0 0 0 119,915.3203 L119,894.3203 L109,884.3203 L12,884.3203 A4,4 0 0 0 8,888.3203 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M109,884.3203 L109,892.3203 A2,2 0 0 0 111,894.3203 L119,894.3203 L109,884.3203 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="80" x="19" y="906.8887">JWT expires</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="817" x="3" y="950.2861"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="950.2861" y2="950.2861"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="953.2861" y2="953.2861"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="155" x="334" y="934.6309"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="345" y="956.1992">Shopping cart load</text><polygon fill="#56666F" points="409.5,1020.5625,419.5,1024.5625,409.5,1028.5625,413.5,1024.5625" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="415.5" y1="1024.5625" y2="1024.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="1007.165">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="107.5" y="999.5098">AJAX GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="292" x="107.5" y="1014.8203">[JWT HttpOnly w/ domain: Store.Example.com]</text><polygon fill="#56666F" points="74.5,1059.873,64.5,1063.873,74.5,1067.873,70.5,1063.873" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="420.5" y1="1063.873" y2="1063.873"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="1054.1309">16</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="117.5" y="1054.1309">401 Not Authorized</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="817" x="3" y="1097.5283"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="1097.5283" y2="1097.5283"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="1100.5283" y2="1100.5283"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="303" x="260" y="1081.873"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="275" x="271" y="1103.4414">Automatic re-login (since session exists)</text><polygon fill="#56666F" points="587,1167.8047,597,1171.8047,587,1175.8047,591,1171.8047" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="593" y1="1171.8047" y2="1171.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="1154.4072">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="294" x="107.5" y="1146.752">GET /oauth2/authorize {response_type=token}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="329" x="107.5" y="1162.0625">[SessionId HttpOnly w/ domain: login.fusionauth.io]</text><polygon fill="#56666F" points="74.5,1222.4258,64.5,1226.4258,74.5,1230.4258,70.5,1226.4258" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="598" y1="1226.4258" y2="1226.4258"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="1209.0283">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="446" x="117.5" y="1201.373">302 Location: {redirect_uri w/ JWT in redirect URI and no refresh token}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="329" x="117.5" y="1216.6836">[SessionId HttpOnly w/ domain: login.fusionauth.io]</text><polygon fill="#56666F" points="409.5,1261.7363,419.5,1265.7363,409.5,1269.7363,413.5,1265.7363" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="415.5" y1="1265.7363" y2="1265.7363"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="1255.9941">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="107.5" y="1255.9941">GET {redirect_uri w/o JWT in URI}</text><polygon fill="#56666F" points="74.5,1301.0469,64.5,1305.0469,74.5,1309.0469,70.5,1305.0469" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="420.5" y1="1305.0469" y2="1305.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="1295.3047">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="117.5" y="1295.3047">(SPA HTML, CSS &amp; JavaScript)</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="817" x="3" y="1338.7021"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="1338.7021" y2="1338.7021"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="1341.7021" y2="1341.7021"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="109" x="357" y="1323.0469"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="81" x="368" y="1344.6152">Cookie drop</text><polygon fill="#56666F" points="409.5,1408.9785,419.5,1412.9785,409.5,1416.9785,413.5,1412.9785" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="415.5" y1="1412.9785" y2="1412.9785"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="1395.5811">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="107.5" y="1387.9258">AJAX POST /api/cookie-drop</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="107.5" y="1403.2363">(JWT from redirect_uri)</text><polygon fill="#56666F" points="74.5,1448.2891,64.5,1452.2891,74.5,1456.2891,70.5,1452.2891" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="420.5" y1="1452.2891" y2="1452.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="1442.5469">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="292" x="117.5" y="1442.5469">[JWT HttpOnly w/ domain: Store.Example.com]</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="817" x="3" y="1485.9443"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="1485.9443" y2="1485.9443"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="1488.9443" y2="1488.9443"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="155" x="334" y="1470.2891"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="345" y="1491.8574">Shopping cart load</text><polygon fill="#56666F" points="409.5,1556.2207,419.5,1560.2207,409.5,1564.2207,413.5,1560.2207" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="415.5" y1="1560.2207" y2="1560.2207"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="1542.8232">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="107.5" y="1535.168">AJAX GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="292" x="107.5" y="1550.4785">[JWT HttpOnly w/ domain: Store.Example.com]</text><polygon fill="#56666F" points="74.5,1595.5313,64.5,1599.5313,74.5,1603.5313,70.5,1599.5313" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="420.5" y1="1599.5313" y2="1599.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="1589.7891">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="117.5" y="1589.7891">(Shopping cart contents)</text><path d="M28,1666.5313 L28,1693.5313 A4,4 0 0 0 32,1697.5313 L810,1697.5313 A4,4 0 0 0 814,1693.5313 L814,1672.5313 L804,1662.5313 L32,1662.5313 A4,4 0 0 0 28,1666.5313 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M804,1662.5313 L804,1670.5313 A2,2 0 0 0 806,1672.5313 L814,1672.5313 L804,1662.5313 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="126" x="353.5" y="1685.0996">SSO login to forums</text><polygon fill="#56666F" points="449.5,1795.4629,459.5,1799.4629,449.5,1803.4629,453.5,1799.4629" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="455.5" y1="1799.4629" y2="1799.4629"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="1782.0654">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="107.5" y="1774.4102">GET /</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="107.5" y="1789.7207">[No cookies]</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="76" x="461.5" y="1755.9746"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="473.5" y="1781.5098">Forums</text><polygon fill="#56666F" points="74.5,1834.7734,64.5,1838.7734,74.5,1842.7734,70.5,1838.7734" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="498.5" y1="1838.7734" y2="1838.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="1829.0313">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="117.5" y="1829.0313">(SPA HTML, CSS &amp; JavaScript)</text><polygon fill="#56666F" points="487.5,1889.3945,497.5,1893.3945,487.5,1897.3945,491.5,1893.3945" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="493.5" y1="1893.3945" y2="1893.3945"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="1875.9971">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="107.5" y="1868.3418">AJAX GET /api/user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="107.5" y="1883.6523">[No cookies]</text><polygon fill="#EB8C52" points="74.5,1928.7051,64.5,1932.7051,74.5,1936.7051,70.5,1932.7051" style="stroke: #EB8C52; stroke-width: 1.0;"/><line style="stroke: #EB8C52; stroke-width: 1.0;" x1="68.5" x2="498.5" y1="1932.7051" y2="1932.7051"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="1922.9629">28</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="117.5" y="1922.9629">404 Missing</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="817" x="3" y="1966.3604"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="1966.3604" y2="1966.3604"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="1969.3604" y2="1969.3604"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="589" x="117" y="1950.7051"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="561" x="128" y="1972.2734">Login (browser navigates away from SPA but auto-logs-in since the session exists)</text><polygon fill="#56666F" points="587,2036.6367,597,2040.6367,587,2044.6367,591,2040.6367" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="593" y1="2040.6367" y2="2040.6367"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="2023.2393">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="294" x="107.5" y="2015.584">GET /oauth2/authorize {response_type=token}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="329" x="107.5" y="2030.8945">[SessionId HttpOnly w/ domain: login.fusionauth.io]</text><polygon fill="#56666F" points="74.5,2091.2578,64.5,2095.2578,74.5,2099.2578,70.5,2095.2578" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="598" y1="2095.2578" y2="2095.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="2077.8604">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="446" x="117.5" y="2070.2051">302 Location: {redirect_uri w/ JWT in redirect URI and no refresh token}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="329" x="117.5" y="2085.5156">[SessionId HttpOnly w/ domain: login.fusionauth.io]</text><polygon fill="#56666F" points="487.5,2130.5684,497.5,2134.5684,487.5,2138.5684,491.5,2134.5684" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="493.5" y1="2134.5684" y2="2134.5684"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="2124.8262">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="107.5" y="2124.8262">GET {redirect_uri w/o JWT in URI}</text><polygon fill="#56666F" points="74.5,2169.8789,64.5,2173.8789,74.5,2177.8789,70.5,2173.8789" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="498.5" y1="2173.8789" y2="2173.8789"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="2164.1367">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="117.5" y="2164.1367">(SPA HTML, CSS &amp; JavaScript)</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="817" x="3" y="2207.5342"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="2207.5342" y2="2207.5342"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="2210.5342" y2="2210.5342"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="109" x="357" y="2191.8789"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="81" x="368" y="2213.4473">Cookie drop</text><polygon fill="#56666F" points="487.5,2277.8105,497.5,2281.8105,487.5,2285.8105,491.5,2281.8105" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="493.5" y1="2281.8105" y2="2281.8105"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="2264.4131">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="107.5" y="2256.7578">AJAX POST /api/cookie-drop</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="107.5" y="2272.0684">(JWT from redirect_uri)</text><polygon fill="#56666F" points="74.5,2317.1211,64.5,2321.1211,74.5,2325.1211,70.5,2321.1211" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="498.5" y1="2321.1211" y2="2321.1211"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="2311.3789">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="307" x="117.5" y="2311.3789">[JWT HttpOnly w/ domain: Forums.Example.com]</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="817" x="3" y="2354.7764"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="2354.7764" y2="2354.7764"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="2357.7764" y2="2357.7764"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="111" x="356" y="2339.1211"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="367" y="2360.6895">Forums load</text><polygon fill="#56666F" points="487.5,2425.0527,497.5,2429.0527,487.5,2433.0527,491.5,2429.0527" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="493.5" y1="2429.0527" y2="2429.0527"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="2411.6553">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="107.5" y="2404">AJAX GET /api/load-load-posts</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="292" x="107.5" y="2419.3105">[JWT HttpOnly w/ domain: Store.Example.com]</text><polygon fill="#56666F" points="74.5,2464.3633,64.5,2468.3633,74.5,2472.3633,70.5,2468.3633" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="498.5" y1="2468.3633" y2="2468.3633"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="2458.6211">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="117.5" y="2458.6211">(Forum posts)</text><path d="M28,2535.3633 L28,2562.3633 A4,4 0 0 0 32,2566.3633 L810,2566.3633 A4,4 0 0 0 814,2562.3633 L814,2541.3633 L804,2531.3633 L32,2531.3633 A4,4 0 0 0 28,2535.3633 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M804,2531.3633 L804,2539.3633 A2,2 0 0 0 806,2541.3633 L814,2541.3633 L804,2531.3633 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="91" x="371" y="2553.9316">Attack vectors</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="817" x="3" y="2647.3291"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="2647.3291" y2="2647.3291"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="820" y1="2650.3291" y2="2650.3291"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="99" x="362" y="2631.6738"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="373" y="2653.2422">Stolen JWT</text><polygon fill="#56666F" points="432.5,2717.6055,422.5,2721.6055,432.5,2725.6055,428.5,2721.6055" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="426.5" x2="778.5" y1="2721.6055" y2="2721.6055"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="443.5" y="2704.208">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="475.5" y="2696.5527">GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="292" x="475.5" y="2711.8633">[JWT HttpOnly w/ domain: Store.Example.com]</text><polygon fill="#56666F" points="767.5,2756.916,777.5,2760.916,767.5,2764.916,771.5,2760.916" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="421.5" x2="773.5" y1="2760.916" y2="2760.916"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="433.5" y="2751.1738">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="465.5" y="2751.1738">(Shopping cart contents)</text></g></svg>