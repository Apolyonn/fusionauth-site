<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2757px" preserveAspectRatio="none" style="width:725px;height:2757px;" version="1.1" viewBox="0 0 725 2757" width="725px" zoomAndPan="magnify"><defs/><g><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="76" x="390.5" y="1726.043"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="402.5" y="1751.5781">Forums</text><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="63" x2="63" y1="44.4883" y2="2707.3633"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="350.5" x2="350.5" y1="44.4883" y2="2707.3633"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="428.5" x2="428.5" y1="1760.2207" y2="2707.3633"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="575" x2="575" y1="44.4883" y2="2707.3633"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="672" x2="672" y1="44.4883" y2="2707.3633"/><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="79" x="24" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="36" y="28.5352">Browser</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="79" x="24" y="2706.3633"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="36" y="2731.8984">Browser</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="60" x="320.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="332.5" y="28.5352">Store</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="60" x="320.5" y="2706.3633"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="332.5" y="2731.8984">Store</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="76" x="390.5" y="2706.3633"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="402.5" y="2731.8984">Forums</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="103" x="524" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="536" y="28.5352">FusionAuth</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="103" x="524" y="2706.3633"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="536" y="2731.8984">FusionAuth</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="71" x="637" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="649" y="28.5352">Hacker</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="71" x="637" y="2706.3633"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="649" y="2731.8984">Hacker</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="710" x="3" y="80.1436"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="80.1436" y2="80.1436"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="83.1436" y2="83.1436"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="86" x="315" y="64.4883"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="326" y="86.0566">Initialize</text><polygon fill="#56666F" points="338.5,135.1094,348.5,139.1094,338.5,143.1094,342.5,139.1094" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="344.5" y1="139.1094" y2="139.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="75.5" y="129.3672">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="98.5" y="129.3672">GET /</text><polygon fill="#56666F" points="74.5,174.4199,64.5,178.4199,74.5,182.4199,70.5,178.4199" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="349.5" y1="178.4199" y2="178.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="85.5" y="168.6777">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="108.5" y="168.6777">(SPA HTML, CSS &amp; JavaScript)</text><polygon fill="#56666F" points="338.5,229.041,348.5,233.041,338.5,237.041,342.5,233.041" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="344.5" y1="233.041" y2="233.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="75.5" y="215.6436">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="98.5" y="207.9883">AJAX GET /api/user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="98.5" y="223.2988">[No cookies]</text><polygon fill="#EB8C52" points="74.5,268.3516,64.5,272.3516,74.5,276.3516,70.5,272.3516" style="stroke: #EB8C52; stroke-width: 1.0;"/><line style="stroke: #EB8C52; stroke-width: 1.0;" x1="68.5" x2="349.5" y1="272.3516" y2="272.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="85.5" y="262.6094">4</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="108.5" y="262.6094">404 Missing</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="710" x="3" y="306.0068"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="306.0068" y2="306.0068"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="309.0068" y2="309.0068"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="309" x="203.5" y="290.3516"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="281" x="214.5" y="311.9199">Login (browser navigates away from SPA)</text><polygon fill="#56666F" points="563.5,360.9727,573.5,364.9727,563.5,368.9727,567.5,364.9727" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="569.5" y1="364.9727" y2="364.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="75.5" y="355.2305">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="294" x="98.5" y="355.2305">GET /oauth2/authorize {response_type=token}</text><polygon fill="#56666F" points="74.5,400.2832,64.5,404.2832,74.5,408.2832,70.5,404.2832" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="574.5" y1="404.2832" y2="404.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="85.5" y="394.541">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="108.5" y="394.541">(Login form HTML)</text><polygon fill="#56666F" points="563.5,439.5938,573.5,443.5938,563.5,447.5938,567.5,443.5938" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="569.5" y1="443.5938" y2="443.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="75.5" y="433.8516">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="302" x="98.5" y="433.8516">POST /oauth2/authorize (response_type=token)</text><polygon fill="#56666F" points="74.5,494.2148,64.5,498.2148,74.5,502.2148,70.5,498.2148" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="574.5" y1="498.2148" y2="498.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="85.5" y="480.8174">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="446" x="108.5" y="473.1621">302 Location: {redirect_uri w/ JWT in redirect URI and no refresh token}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="329" x="108.5" y="488.4727">[SessionId HttpOnly w/ domain: login.fusionauth.io]</text><polygon fill="#56666F" points="338.5,533.5254,348.5,537.5254,338.5,541.5254,342.5,537.5254" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="344.5" y1="537.5254" y2="537.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="75.5" y="527.7832">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="98.5" y="527.7832">GET {redirect_uri w/o JWT in URI}</text><polygon fill="#56666F" points="74.5,572.8359,64.5,576.8359,74.5,580.8359,70.5,576.8359" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="349.5" y1="576.8359" y2="576.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="567.0938">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="117.5" y="567.0938">(SPA HTML, CSS &amp; JavaScript)</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="710" x="3" y="610.4912"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="610.4912" y2="610.4912"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="613.4912" y2="613.4912"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="154" x="281" y="594.8359"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="126" x="292" y="616.4043">Local storage drop</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="105.5" y1="669.457" y2="669.457"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="105.5" x2="105.5" y1="669.457" y2="682.457"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="64.5" x2="105.5" y1="682.457" y2="682.457"/><polygon fill="#56666F" points="74.5,678.457,64.5,682.457,74.5,686.457,70.5,682.457" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="659.7148">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="107.5" y="659.7148">Move JWT from URI to local storage</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="710" x="3" y="716.1123"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="716.1123" y2="716.1123"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="719.1123" y2="719.1123"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="155" x="280.5" y="700.457"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="291.5" y="722.0254">Shopping cart load</text><polygon fill="#56666F" points="338.5,786.3887,348.5,790.3887,338.5,794.3887,342.5,790.3887" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="344.5" y1="790.3887" y2="790.3887"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="772.9912">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="107.5" y="765.3359">AJAX GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="107.5" y="780.6465">(JWT from local storage)</text><polygon fill="#56666F" points="74.5,825.6992,64.5,829.6992,74.5,833.6992,70.5,829.6992" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="349.5" y1="829.6992" y2="829.6992"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="819.957">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="117.5" y="819.957">(Shopping cart contents)</text><path d="M8,846.6992 L8,873.6992 A4,4 0 0 0 12,877.6992 L115,877.6992 A4,4 0 0 0 119,873.6992 L119,852.6992 L109,842.6992 L12,842.6992 A4,4 0 0 0 8,846.6992 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M109,842.6992 L109,850.6992 A2,2 0 0 0 111,852.6992 L119,852.6992 L109,842.6992 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="80" x="19" y="865.2676">JWT expires</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="710" x="3" y="908.665"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="908.665" y2="908.665"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="911.665" y2="911.665"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="155" x="280.5" y="893.0098"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="291.5" y="914.5781">Shopping cart load</text><polygon fill="#56666F" points="338.5,978.9414,348.5,982.9414,338.5,986.9414,342.5,982.9414" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="344.5" y1="982.9414" y2="982.9414"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="965.5439">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="107.5" y="957.8887">AJAX GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="107.5" y="973.1992">(JWT from local storage)</text><polygon fill="#56666F" points="74.5,1018.252,64.5,1022.252,74.5,1026.252,70.5,1022.252" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="349.5" y1="1022.252" y2="1022.252"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="1012.5098">15</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="117.5" y="1012.5098">401 Not Authorized</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="710" x="3" y="1055.9072"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="1055.9072" y2="1055.9072"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="1058.9072" y2="1058.9072"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="303" x="206.5" y="1040.252"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="275" x="217.5" y="1061.8203">Automatic re-login (since session exists)</text><polygon fill="#56666F" points="563.5,1126.1836,573.5,1130.1836,563.5,1134.1836,567.5,1130.1836" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="569.5" y1="1130.1836" y2="1130.1836"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="1112.7861">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="294" x="107.5" y="1105.1309">GET /oauth2/authorize {response_type=token}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="329" x="107.5" y="1120.4414">[SessionId HttpOnly w/ domain: login.fusionauth.io]</text><polygon fill="#56666F" points="74.5,1180.8047,64.5,1184.8047,74.5,1188.8047,70.5,1184.8047" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="574.5" y1="1184.8047" y2="1184.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="1167.4072">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="446" x="117.5" y="1159.752">302 Location: {redirect_uri w/ JWT in redirect URI and no refresh token}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="329" x="117.5" y="1175.0625">[SessionId HttpOnly w/ domain: login.fusionauth.io]</text><polygon fill="#56666F" points="338.5,1220.1152,348.5,1224.1152,338.5,1228.1152,342.5,1224.1152" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="344.5" y1="1224.1152" y2="1224.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="1214.373">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="107.5" y="1214.373">GET {redirect_uri w/o JWT in URI}</text><polygon fill="#56666F" points="74.5,1259.4258,64.5,1263.4258,74.5,1267.4258,70.5,1263.4258" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="349.5" y1="1263.4258" y2="1263.4258"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="1253.6836">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="117.5" y="1253.6836">(SPA HTML, CSS &amp; JavaScript)</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="710" x="3" y="1297.0811"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="1297.0811" y2="1297.0811"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="1300.0811" y2="1300.0811"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="154" x="281" y="1281.4258"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="126" x="292" y="1302.9941">Local storage drop</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="105.5" y1="1356.0469" y2="1356.0469"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="105.5" x2="105.5" y1="1356.0469" y2="1369.0469"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="64.5" x2="105.5" y1="1369.0469" y2="1369.0469"/><polygon fill="#56666F" points="74.5,1365.0469,64.5,1369.0469,74.5,1373.0469,70.5,1369.0469" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="1346.3047">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="107.5" y="1346.3047">Move JWT from URI to local storage</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="710" x="3" y="1402.7021"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="1402.7021" y2="1402.7021"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="1405.7021" y2="1405.7021"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="155" x="280.5" y="1387.0469"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="291.5" y="1408.6152">Shopping cart load</text><polygon fill="#56666F" points="338.5,1472.9785,348.5,1476.9785,338.5,1480.9785,342.5,1476.9785" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="344.5" y1="1476.9785" y2="1476.9785"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="1459.5811">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="107.5" y="1451.9258">AJAX GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="107.5" y="1467.2363">(JWT from local storage)</text><polygon fill="#56666F" points="74.5,1512.2891,64.5,1516.2891,74.5,1520.2891,70.5,1516.2891" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="349.5" y1="1516.2891" y2="1516.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="1506.5469">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="117.5" y="1506.5469">(Shopping cart contents)</text><path d="M28,1583.2891 L28,1610.2891 A4,4 0 0 0 32,1614.2891 L703,1614.2891 A4,4 0 0 0 707,1610.2891 L707,1589.2891 L697,1579.2891 L32,1579.2891 A4,4 0 0 0 28,1583.2891 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M697,1579.2891 L697,1587.2891 A2,2 0 0 0 699,1589.2891 L707,1589.2891 L697,1579.2891 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="126" x="300" y="1601.8574">SSO login to forums</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="710" x="3" y="1695.2549"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="1695.2549" y2="1695.2549"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="1698.2549" y2="1698.2549"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="86" x="315" y="1679.5996"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="326" y="1701.168">Initialize</text><polygon fill="#56666F" points="378.5,1765.5313,388.5,1769.5313,378.5,1773.5313,382.5,1769.5313" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="384.5" y1="1769.5313" y2="1769.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="1752.1338">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="107.5" y="1744.4785">GET /</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="107.5" y="1759.7891">[No cookies]</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="76" x="390.5" y="1726.043"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="402.5" y="1751.5781">Forums</text><polygon fill="#56666F" points="74.5,1804.8418,64.5,1808.8418,74.5,1812.8418,70.5,1808.8418" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="427.5" y1="1808.8418" y2="1808.8418"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="1799.0996">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="117.5" y="1799.0996">(SPA HTML, CSS &amp; JavaScript)</text><polygon fill="#56666F" points="416.5,1859.4629,426.5,1863.4629,416.5,1867.4629,420.5,1863.4629" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="422.5" y1="1863.4629" y2="1863.4629"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="1846.0654">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="107.5" y="1838.4102">GET /api/user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="107.5" y="1853.7207">[No cookies]</text><polygon fill="#EB8C52" points="74.5,1898.7734,64.5,1902.7734,74.5,1906.7734,70.5,1902.7734" style="stroke: #EB8C52; stroke-width: 1.0;"/><line style="stroke: #EB8C52; stroke-width: 1.0;" x1="68.5" x2="427.5" y1="1902.7734" y2="1902.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="1893.0313">26</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="117.5" y="1893.0313">404 Missing</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="710" x="3" y="1936.4287"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="1936.4287" y2="1936.4287"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="1939.4287" y2="1939.4287"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="589" x="63.5" y="1920.7734"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="561" x="74.5" y="1942.3418">Login (browser navigates away from SPA but auto-logs-in since the session exists)</text><polygon fill="#56666F" points="563.5,2006.7051,573.5,2010.7051,563.5,2014.7051,567.5,2010.7051" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="569.5" y1="2010.7051" y2="2010.7051"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="1993.3076">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="294" x="107.5" y="1985.6523">GET /oauth2/authorize {response_type=token}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="329" x="107.5" y="2000.9629">[SessionId HttpOnly w/ domain: login.fusionauth.io]</text><polygon fill="#56666F" points="74.5,2061.3262,64.5,2065.3262,74.5,2069.3262,70.5,2065.3262" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="574.5" y1="2065.3262" y2="2065.3262"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="2047.9287">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="446" x="117.5" y="2040.2734">302 Location: {redirect_uri w/ JWT in redirect URI and no refresh token}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="329" x="117.5" y="2055.584">[SessionId HttpOnly w/ domain: login.fusionauth.io]</text><polygon fill="#56666F" points="416.5,2100.6367,426.5,2104.6367,416.5,2108.6367,420.5,2104.6367" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="422.5" y1="2104.6367" y2="2104.6367"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="2094.8945">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="107.5" y="2094.8945">GET {redirect_uri w/o JWT in URI}</text><polygon fill="#56666F" points="74.5,2139.9473,64.5,2143.9473,74.5,2147.9473,70.5,2143.9473" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="427.5" y1="2143.9473" y2="2143.9473"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="2134.2051">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="117.5" y="2134.2051">(SPA HTML, CSS &amp; JavaScript)</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="710" x="3" y="2177.6025"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="2177.6025" y2="2177.6025"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="2180.6025" y2="2180.6025"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="154" x="281" y="2161.9473"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="126" x="292" y="2183.5156">Local storage drop</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="105.5" y1="2236.5684" y2="2236.5684"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="105.5" x2="105.5" y1="2236.5684" y2="2249.5684"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="64.5" x2="105.5" y1="2249.5684" y2="2249.5684"/><polygon fill="#56666F" points="74.5,2245.5684,64.5,2249.5684,74.5,2253.5684,70.5,2249.5684" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="2226.8262">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="107.5" y="2226.8262">Move JWT from URI to local storage</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="710" x="3" y="2283.2236"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="2283.2236" y2="2283.2236"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="2286.2236" y2="2286.2236"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="111" x="302.5" y="2267.5684"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="313.5" y="2289.1367">Forums load</text><polygon fill="#56666F" points="416.5,2353.5,426.5,2357.5,416.5,2361.5,420.5,2357.5" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="63.5" x2="422.5" y1="2357.5" y2="2357.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="75.5" y="2340.1025">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="107.5" y="2332.4473">AJAX GET /api/load-load-posts</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="107.5" y="2347.7578">(JWT from local storage)</text><polygon fill="#56666F" points="74.5,2392.8105,64.5,2396.8105,74.5,2400.8105,70.5,2396.8105" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="68.5" x2="427.5" y1="2396.8105" y2="2396.8105"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="85.5" y="2387.0684">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="117.5" y="2387.0684">(Forum posts)</text><path d="M28,2463.8105 L28,2490.8105 A4,4 0 0 0 32,2494.8105 L703,2494.8105 A4,4 0 0 0 707,2490.8105 L707,2469.8105 L697,2459.8105 L32,2459.8105 A4,4 0 0 0 28,2463.8105 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M697,2459.8105 L697,2467.8105 A2,2 0 0 0 699,2469.8105 L707,2469.8105 L697,2459.8105 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="91" x="317.5" y="2482.3789">Attack vectors</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="710" x="3" y="2575.7764"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="2575.7764" y2="2575.7764"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="713" y1="2578.7764" y2="2578.7764"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="99" x="308.5" y="2560.1211"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="319.5" y="2581.6895">Stolen JWT</text><polygon fill="#56666F" points="361.5,2646.0527,351.5,2650.0527,361.5,2654.0527,357.5,2650.0527" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="355.5" x2="671.5" y1="2650.0527" y2="2650.0527"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="372.5" y="2632.6553">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="404.5" y="2625">GET /api/load-shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="404.5" y="2640.3105">(JWT)</text><polygon fill="#56666F" points="660.5,2685.3633,670.5,2689.3633,660.5,2693.3633,664.5,2689.3633" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="350.5" x2="666.5" y1="2689.3633" y2="2689.3633"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="362.5" y="2679.6211">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="394.5" y="2679.6211">(Shopping cart contents)</text></g></svg>