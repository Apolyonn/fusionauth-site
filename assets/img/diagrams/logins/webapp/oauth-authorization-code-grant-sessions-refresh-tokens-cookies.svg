<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2921px" preserveAspectRatio="none" style="width:1281px;height:2921px;" version="1.1" viewBox="0 0 1281 2921" width="1281px" zoomAndPan="magnify"><defs/><g><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="76" x="878.5" y="1807.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="890.5" y="1833.4414">Forums</text><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="102" x2="102" y1="44.4883" y2="2871.1582"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="615.5" x2="615.5" y1="44.4883" y2="2871.1582"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="916.5" x2="916.5" y1="1842.084" y2="2871.1582"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1131" x2="1131" y1="44.4883" y2="2871.1582"/><line style="stroke: #CDCDCD; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1228" x2="1228" y1="44.4883" y2="2871.1582"/><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="79" x="63" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="75" y="28.5352">Browser</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="79" x="63" y="2870.1582"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="75" y="2895.6934">Browser</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="60" x="585.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="597.5" y="28.5352">Store</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="60" x="585.5" y="2870.1582"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="597.5" y="2895.6934">Store</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="76" x="878.5" y="2870.1582"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="890.5" y="2895.6934">Forums</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="103" x="1080" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="1092" y="28.5352">FusionAuth</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="103" x="1080" y="2870.1582"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="1092" y="2895.6934">FusionAuth</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="71" x="1193" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="1205" y="28.5352">Hacker</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="71" x="1193" y="2870.1582"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="1205" y="2895.6934">Hacker</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1266" x="3" y="80.1436"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1269" y1="80.1436" y2="80.1436"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1269" y1="83.1436" y2="83.1436"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="86" x="593" y="64.4883"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="604" y="86.0566">Initialize</text><polygon fill="#56666F" points="603.5,135.1094,613.5,139.1094,603.5,143.1094,607.5,139.1094" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="609.5" y1="139.1094" y2="139.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="114.5" y="129.3672">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="137.5" y="129.3672">GET /</text><polygon fill="#56666F" points="113.5,174.4199,103.5,178.4199,113.5,182.4199,109.5,178.4199" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="614.5" y1="178.4199" y2="178.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="124.5" y="168.6777">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="260" x="147.5" y="168.6777">(HTML, CSS &amp; JavaScript - with login link)</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1266" x="3" y="212.0752"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1269" y1="212.0752" y2="212.0752"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1269" y1="215.0752" y2="215.0752"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="341" x="465.5" y="196.4199"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="313" x="476.5" y="217.9883">Login (browser navigates away from WebApp)</text><polygon fill="#56666F" points="1119.5,267.041,1129.5,271.041,1119.5,275.041,1123.5,271.041" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="1125.5" y1="271.041" y2="271.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="114.5" y="261.2988">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="137.5" y="261.2988">GET /oauth2/authorize {response_type=code}</text><polygon fill="#56666F" points="113.5,306.3516,103.5,310.3516,113.5,314.3516,109.5,310.3516" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="1130.5" y1="310.3516" y2="310.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="124.5" y="300.6094">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="147.5" y="300.6094">(Login form HTML)</text><polygon fill="#56666F" points="1119.5,360.9727,1129.5,364.9727,1119.5,368.9727,1123.5,364.9727" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="1125.5" y1="364.9727" y2="364.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="114.5" y="347.5752">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="137.5" y="339.9199">POST /oauth2/authorize</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="137.5" y="355.2305">(response_type=code)</text><polygon fill="#56666F" points="113.5,415.5938,103.5,419.5938,113.5,423.5938,109.5,419.5938" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="1130.5" y1="419.5938" y2="419.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="124.5" y="402.1963">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="147.5" y="394.541">302 Location: {redirect_uri w/ code}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="329" x="147.5" y="409.8516">[SessionId HttpOnly w/ domain: login.fusionauth.io]</text><polygon fill="#56666F" points="603.5,454.9043,613.5,458.9043,603.5,462.9043,607.5,458.9043" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="609.5" y1="458.9043" y2="458.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="114.5" y="449.1621">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="137.5" y="449.1621">GET {redirect_uri w/ code}</text><polygon fill="#56666F" points="1119.5,509.5254,1129.5,513.5254,1119.5,517.5254,1123.5,513.5254" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="1125.5" y1="513.5254" y2="513.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="627.5" y="496.1279">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="650.5" y="488.4727">POST /oauth2/token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="650.5" y="503.7832">(code, client_secret)</text><polygon fill="#56666F" points="626.5,564.1465,616.5,568.1465,626.5,572.1465,622.5,568.1465" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="620.5" x2="1130.5" y1="568.1465" y2="568.1465"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="637.5" y="550.749">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="660.5" y="543.0938">200 Ok</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="660.5" y="558.4043">(Refresh token and JWT)</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="657.5" y1="607.457" y2="607.457"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="657.5" x2="657.5" y1="607.457" y2="620.457"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="616.5" x2="657.5" y1="620.457" y2="620.457"/><polygon fill="#56666F" points="626.5,616.457,616.5,620.457,626.5,624.457,622.5,620.457" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="627.5" y="597.7148">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="659.5" y="597.7148">Create new session</text><polygon fill="#56666F" points="113.5,671.0781,103.5,675.0781,113.5,679.0781,109.5,675.0781" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="614.5" y1="675.0781" y2="675.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="657.6807">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="156.5" y="650.0254">302 Location: /shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="447" x="156.5" y="665.3359">[SessionId and Refresh token HttpOnly w/ domain: Store.Example.com]</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1266" x="3" y="708.7334"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1269" y1="708.7334" y2="708.7334"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1269" y1="711.7334" y2="711.7334"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="155" x="558.5" y="693.0781"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="569.5" y="714.6465">Shopping cart load</text><polygon fill="#56666F" points="603.5,779.0098,613.5,783.0098,603.5,787.0098,607.5,783.0098" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="609.5" y1="783.0098" y2="783.0098"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="765.6123">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="146.5" y="757.957">GET /shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="447" x="146.5" y="773.2676">[SessionId and Refresh token HttpOnly w/ domain: Store.Example.com]</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="657.5" y1="822.3203" y2="822.3203"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="657.5" x2="657.5" y1="822.3203" y2="835.3203"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="616.5" x2="657.5" y1="835.3203" y2="835.3203"/><polygon fill="#56666F" points="626.5,831.3203,616.5,835.3203,626.5,839.3203,622.5,835.3203" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="627.5" y="812.5781">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="659.5" y="812.5781">Session extended</text><polygon fill="#56666F" points="113.5,870.6309,103.5,874.6309,113.5,878.6309,109.5,874.6309" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="614.5" y1="874.6309" y2="874.6309"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="864.8887">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="156.5" y="864.8887">(Shopping cart HTML)</text><path d="M8,891.6309 L8,933.6309 A4,4 0 0 0 12,937.6309 L194,937.6309 A4,4 0 0 0 198,933.6309 L198,897.6309 L188,887.6309 L12,887.6309 A4,4 0 0 0 8,891.6309 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M188,887.6309 L188,895.6309 A2,2 0 0 0 190,897.6309 L198,897.6309 L188,887.6309 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="104" x="19" y="910.1992">Session expires</text><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="159" x="19" y="925.5098">Refresh token still valid</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1266" x="3" y="968.9072"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1269" y1="968.9072" y2="968.9072"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1269" y1="971.9072" y2="971.9072"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="155" x="558.5" y="953.252"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="569.5" y="974.8203">Shopping cart load</text><polygon fill="#56666F" points="603.5,1039.1836,613.5,1043.1836,603.5,1047.1836,607.5,1043.1836" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="609.5" y1="1043.1836" y2="1043.1836"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="1025.7861">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="146.5" y="1018.1309">GET /shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="447" x="146.5" y="1033.4414">[SessionId and Refresh token HttpOnly w/ domain: Store.Example.com]</text><polygon fill="#56666F" points="1119.5,1093.8047,1129.5,1097.8047,1119.5,1101.8047,1123.5,1097.8047" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="1125.5" y1="1097.8047" y2="1097.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="627.5" y="1080.4072">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="290" x="659.5" y="1072.752">POST /oauth2/token or POST /api/jwt/refresh</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="659.5" y="1088.0625">(grant_type=refresh and refresh token)</text><polygon fill="#56666F" points="626.5,1133.1152,616.5,1137.1152,626.5,1141.1152,622.5,1137.1152" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="620.5" x2="1130.5" y1="1137.1152" y2="1137.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="637.5" y="1127.373">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="669.5" y="1127.373">(JWT)</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="657.5" y1="1176.4258" y2="1176.4258"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="657.5" x2="657.5" y1="1176.4258" y2="1189.4258"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="616.5" x2="657.5" y1="1189.4258" y2="1189.4258"/><polygon fill="#56666F" points="626.5,1185.4258,616.5,1189.4258,626.5,1193.4258,622.5,1189.4258" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="627.5" y="1166.6836">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="245" x="659.5" y="1166.6836">Create new session and store User in it</text><polygon fill="#56666F" points="113.5,1240.0469,103.5,1244.0469,113.5,1248.0469,109.5,1244.0469" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="614.5" y1="1244.0469" y2="1244.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="1226.6494">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="156.5" y="1218.9941">(Shopping cart contents)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="360" x="156.5" y="1234.3047">[New SessionId HttpOnly w/ domain: Store.Example.com]</text><path d="M13,1261.0469 L13,1303.0469 A4,4 0 0 0 17,1307.0469 L188,1307.0469 A4,4 0 0 0 192,1303.0469 L192,1267.0469 L182,1257.0469 L17,1257.0469 A4,4 0 0 0 13,1261.0469 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M182,1257.0469 L182,1265.0469 A2,2 0 0 0 184,1267.0469 L192,1267.0469 L182,1257.0469 " fill="#EB8C52" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="104" x="24" y="1279.6152">Session expires</text><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="148" x="24" y="1294.9258">Refresh token expires</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1266" x="3" y="1338.3232"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1269" y1="1338.3232" y2="1338.3232"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1269" y1="1341.3232" y2="1341.3232"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="87" x="592.5" y="1322.668"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="603.5" y="1344.2363">Re-login</text><polygon fill="#56666F" points="603.5,1408.5996,613.5,1412.5996,603.5,1416.5996,607.5,1412.5996" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="609.5" y1="1412.5996" y2="1412.5996"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="1395.2021">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="146.5" y="1387.5469">GET /shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="447" x="146.5" y="1402.8574">[SessionId and Refresh token HttpOnly w/ domain: Store.Example.com]</text><polygon fill="#56666F" points="1119.5,1463.2207,1129.5,1467.2207,1119.5,1471.2207,1123.5,1467.2207" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="1125.5" y1="1467.2207" y2="1467.2207"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="627.5" y="1449.8232">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="290" x="659.5" y="1442.168">POST /oauth2/token or POST /api/jwt/refresh</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="659.5" y="1457.4785">(grant_type=refresh and refresh token)</text><polygon fill="#EB8C52" points="626.5,1502.5313,616.5,1506.5313,626.5,1510.5313,622.5,1506.5313" style="stroke: #EB8C52; stroke-width: 1.0;"/><line style="stroke: #EB8C52; stroke-width: 1.0;" x1="620.5" x2="1130.5" y1="1506.5313" y2="1506.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="637.5" y="1496.7891">22</text><text fill="#EB8C52" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="669.5" y="1496.7891">404 Missing</text><polygon fill="#56666F" points="113.5,1541.8418,103.5,1545.8418,113.5,1549.8418,109.5,1545.8418" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="614.5" y1="1545.8418" y2="1545.8418"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="1536.0996">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="156.5" y="1536.0996">302 Location: /login</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="144.5" y1="1585.1523" y2="1585.1523"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="144.5" x2="144.5" y1="1585.1523" y2="1598.1523"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="103.5" x2="144.5" y1="1598.1523" y2="1598.1523"/><polygon fill="#56666F" points="113.5,1594.1523,103.5,1598.1523,113.5,1602.1523,109.5,1598.1523" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="1575.4102">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="146.5" y="1575.4102">Login same as above</text><path d="M67,1665.1523 L67,1692.1523 A4,4 0 0 0 71,1696.1523 L1259,1696.1523 A4,4 0 0 0 1263,1692.1523 L1263,1671.1523 L1253,1661.1523 L71,1661.1523 A4,4 0 0 0 67,1665.1523 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M1253,1661.1523 L1253,1669.1523 A2,2 0 0 0 1255,1671.1523 L1263,1671.1523 L1253,1661.1523 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="126" x="597.5" y="1683.7207">SSO login to forums</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1266" x="3" y="1777.1182"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1269" y1="1777.1182" y2="1777.1182"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1269" y1="1780.1182" y2="1780.1182"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="86" x="593" y="1761.4629"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="604" y="1783.0313">Initialize</text><polygon fill="#56666F" points="866.5,1847.3945,876.5,1851.3945,866.5,1855.3945,870.5,1851.3945" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="872.5" y1="1851.3945" y2="1851.3945"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="1833.9971">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="146.5" y="1826.3418">GET /</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="146.5" y="1841.6523">[No cookies]</text><rect fill="#D8D8D8" height="40.4883" rx="4" ry="4" style="stroke: #979797; stroke-width: 1.0;" width="76" x="878.5" y="1807.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="890.5" y="1833.4414">Forums</text><polygon fill="#56666F" points="113.5,1886.7051,103.5,1890.7051,113.5,1894.7051,109.5,1890.7051" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="915.5" y1="1890.7051" y2="1890.7051"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="1880.9629">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="260" x="156.5" y="1880.9629">(HTML, CSS &amp; JavaScript - with login link)</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1266" x="3" y="1924.3604"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1269" y1="1924.3604" y2="1924.3604"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1269" y1="1927.3604" y2="1927.3604"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="621" x="325.5" y="1908.7051"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="593" x="336.5" y="1930.2734">Login (browser navigates away from WebApp but auto-logs-in since the session exists)</text><polygon fill="#56666F" points="1119.5,1994.6367,1129.5,1998.6367,1119.5,2002.6367,1123.5,1998.6367" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="1125.5" y1="1998.6367" y2="1998.6367"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="1981.2393">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="146.5" y="1973.584">GET /oauth2/authorize {response_type=code}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="329" x="146.5" y="1988.8945">[SessionId HttpOnly w/ domain: login.fusionauth.io]</text><polygon fill="#56666F" points="113.5,2049.2578,103.5,2053.2578,113.5,2057.2578,109.5,2053.2578" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="1130.5" y1="2053.2578" y2="2053.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="2035.8604">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="156.5" y="2028.2051">302 Location: {redirect_uri w/ code}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="329" x="156.5" y="2043.5156">[SessionId HttpOnly w/ domain: login.fusionauth.io]</text><polygon fill="#56666F" points="904.5,2088.5684,914.5,2092.5684,904.5,2096.5684,908.5,2092.5684" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="910.5" y1="2092.5684" y2="2092.5684"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="2082.8262">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="146.5" y="2082.8262">GET {redirect_uri w/ code}</text><polygon fill="#56666F" points="1119.5,2143.1895,1129.5,2147.1895,1119.5,2151.1895,1123.5,2147.1895" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="916.5" x2="1125.5" y1="2147.1895" y2="2147.1895"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="928.5" y="2129.792">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="960.5" y="2122.1367">POST /oauth2/token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="960.5" y="2137.4473">(code, client_secret)</text><polygon fill="#56666F" points="927.5,2197.8105,917.5,2201.8105,927.5,2205.8105,923.5,2201.8105" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="921.5" x2="1130.5" y1="2201.8105" y2="2201.8105"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="938.5" y="2184.4131">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="970.5" y="2176.7578">200 Ok</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="970.5" y="2192.0684">(Refresh token and JWT)</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="916.5" x2="958.5" y1="2241.1211" y2="2241.1211"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="958.5" x2="958.5" y1="2241.1211" y2="2254.1211"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="917.5" x2="958.5" y1="2254.1211" y2="2254.1211"/><polygon fill="#56666F" points="927.5,2250.1211,917.5,2254.1211,927.5,2258.1211,923.5,2254.1211" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="928.5" y="2231.3789">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="960.5" y="2231.3789">Create new session</text><polygon fill="#56666F" points="113.5,2304.7422,103.5,2308.7422,113.5,2312.7422,109.5,2308.7422" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="915.5" y1="2308.7422" y2="2308.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="2291.3447">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="156.5" y="2283.6895">302 Location: /posts</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="447" x="156.5" y="2299">[SessionId and Refresh token HttpOnly w/ domain: Store.Example.com]</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1266" x="3" y="2342.3975"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1269" y1="2342.3975" y2="2342.3975"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1269" y1="2345.3975" y2="2345.3975"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="104" x="584" y="2326.7422"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="76" x="595" y="2348.3105">Forum load</text><polygon fill="#56666F" points="904.5,2412.6738,914.5,2416.6738,904.5,2420.6738,908.5,2416.6738" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="102.5" x2="910.5" y1="2416.6738" y2="2416.6738"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="114.5" y="2399.2764">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="146.5" y="2391.6211">GET /posts</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="462" x="146.5" y="2406.9316">[SessionId and Refresh token HttpOnly w/ domain: Forums.Example.com]</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="916.5" x2="958.5" y1="2455.9844" y2="2455.9844"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="958.5" x2="958.5" y1="2455.9844" y2="2468.9844"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="917.5" x2="958.5" y1="2468.9844" y2="2468.9844"/><polygon fill="#56666F" points="927.5,2464.9844,917.5,2468.9844,927.5,2472.9844,923.5,2468.9844" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="928.5" y="2446.2422">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="960.5" y="2446.2422">Session extended</text><polygon fill="#56666F" points="113.5,2504.2949,103.5,2508.2949,113.5,2512.2949,109.5,2508.2949" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="107.5" x2="915.5" y1="2508.2949" y2="2508.2949"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124.5" y="2498.5527">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="156.5" y="2498.5527">(Forum posts HTML)</text><path d="M67,2575.2949 L67,2602.2949 A4,4 0 0 0 71,2606.2949 L1259,2606.2949 A4,4 0 0 0 1263,2602.2949 L1263,2581.2949 L1253,2571.2949 L71,2571.2949 A4,4 0 0 0 67,2575.2949 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M1253,2571.2949 L1253,2579.2949 A2,2 0 0 0 1255,2581.2949 L1263,2581.2949 L1253,2571.2949 " fill="#8B80A1" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="91" x="615" y="2593.8633">Attack vectors</text><rect fill="#3F2C61" height="3" style="stroke: #3F2C61; stroke-width: 1.0;" width="1266" x="3" y="2687.2607"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1269" y1="2687.2607" y2="2687.2607"/><line style="stroke: #FFFFFF; stroke-width: 0.5;" x1="3" x2="1269" y1="2690.2607" y2="2690.2607"/><rect fill="#3F2C61" height="33.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="140" x="566" y="2671.6055"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112" x="577" y="2693.1738">Stolen session id</text><polygon fill="#56666F" points="626.5,2757.5371,616.5,2761.5371,626.5,2765.5371,622.5,2761.5371" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="620.5" x2="1227.5" y1="2761.5371" y2="2761.5371"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="637.5" y="2744.1396">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="669.5" y="2736.4844">GET /shopping-cart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="329" x="669.5" y="2751.7949">[SessionId HttpOnly w/ domain: Store.Example.com]</text><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="657.5" y1="2800.8477" y2="2800.8477"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="657.5" x2="657.5" y1="2800.8477" y2="2813.8477"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="616.5" x2="657.5" y1="2813.8477" y2="2813.8477"/><polygon fill="#56666F" points="626.5,2809.8477,616.5,2813.8477,626.5,2817.8477,622.5,2813.8477" style="stroke: #56666F; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="627.5" y="2791.1055">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="659.5" y="2791.1055">Session extended</text><polygon fill="#56666F" points="1216.5,2849.1582,1226.5,2853.1582,1216.5,2857.1582,1220.5,2853.1582" style="stroke: #56666F; stroke-width: 1.0;"/><line style="stroke: #56666F; stroke-width: 1.0;" x1="615.5" x2="1222.5" y1="2853.1582" y2="2853.1582"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="627.5" y="2843.416">39</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="659.5" y="2843.416">(Shopping cart HTML)</text></g></svg>