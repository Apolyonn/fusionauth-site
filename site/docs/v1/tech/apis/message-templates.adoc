---
layout: doc
title: Message Template APIs
description: APIs for creating, retrieving, updating and deleting message templates
---

== Overview

This page contains the APIs for managing Message Templates as well as messageing users using those templates. Here are the APIs:

* <<Create an Message Template>>
* <<Retrieve an Message Template>>
* <<Update an Message Template>>
* <<Delete an Message Template>>
* <<Preview an Message Template>>


== Create an Message Template

This API is used to create an Message Template. Specifying an Id on the URI will instruct FusionAuth to use that Id when creating the Message Template. Otherwise, FusionAuth will generate an Id for the Message Template.

=== Request

[.api-authentication]
link:/docs/v1/tech/apis/authentication#api-key-authentication[icon:lock[type=fas]] Create an Message Template without providing an Id. An Id will be automatically generated.
[.endpoint]
.URI
--
[method]#POST# [uri]#/api/message/template#
--

[.api-authentication]
link:/docs/v1/tech/apis/authentication#api-key-authentication[icon:lock[type=fas]] Create an Message Template with the provided Id
[.endpoint]
.URI
--
[method]#POST# [uri]#/api/message/template/``\{messageTemplateId\}``#
--

==== Request Parameters

[.api]
[field]#messageTemplateId# [type]#[UUID]# [optional]#Optional# [default]#defaults to secure random UUID#::
The Id to use for the new Message Template. If not specified a secure random UUID will be generated.

include::docs/v1/tech/apis/_message-template-request-body.adoc[]

=== Response

The response for this API contains the information for the Message Template that was created.

include::docs/v1/tech/apis/_standard-post-response-codes.adoc[]

include::docs/v1/tech/apis/_message-template-response-body.adoc[]


== Retrieve an Message Template

This API is used to retrieve one or all of the configured Message Templates. Specifying an Id on the URI will retrieve a single Message Template. Leaving off the Id will retrieve all of the Message Templates.

=== Request

[.api-authentication]
link:/docs/v1/tech/apis/authentication#api-key-authentication[icon:lock[type=fas]] Retrieve all of the Message Templates
[.endpoint]
.URI
--
[method]#GET# [uri]#/api/message/template#
--

[.api-authentication]
link:/docs/v1/tech/apis/authentication#api-key-authentication[icon:lock[type=fas]] Retrieve a single Message Template by Id
[.endpoint]
.URI
--
[method]#GET# [uri]#/api/message/template/``\{messageTemplateId\}``#
--

==== Request Parameters

[.api]
[field]#messageTemplateId# [type]#[UUID]# [optional]#Optional#::
The Id of the Message Template to retrieve.

=== Response

The response for this API contains either a single Message Template or all of the Message Templates. When you call this API with an Id the response will contain just that Message Template. When you call this API without an Id the response will contain all of the Message Templates. Both response types are defined below along with an example JSON response.

:no_errors:
include::docs/v1/tech/apis/_standard-get-response-codes.adoc[]
:no_errors!:

include::docs/v1/tech/apis/_message-template-response-body.adoc[]

include::docs/v1/tech/apis/_message-templates-response-body.adoc[]


== Update an Message Template

This API is used to update an Message Template. You must specify the Id of the Message Template to update on the URI.

=== Request

[.api-authentication]
link:/docs/v1/tech/apis/authentication#api-key-authentication[icon:lock[type=fas]] Update an Message Template by Id
[.endpoint]
.URI
--
[method]#PUT# [uri]#/api/message/template/``\{messageTemplateId\}``#
--

:api_endpoint: pass:normal[/api/message/template/``\{messageTemplateId\}``]
include::docs/v1/tech/apis/_patch-support.adoc[]

==== Request Parameters

[.api]
[field]#messageTemplateId# [type]#[UUID]# [required]#Required#::
The Id of the Message Template to update.

include::docs/v1/tech/apis/_message-template-request-body.adoc[]

=== Response

The response for this API contains the new information for the Message Template that was updated.

include::docs/v1/tech/apis/_standard-put-response-codes.adoc[]

include::docs/v1/tech/apis/_message-template-response-body.adoc[]


== Delete an Message Template

This API is used to delete an Message Template. You must specify the Id of the Message Template on the URI.

=== Request

[.api-authentication]
link:/docs/v1/tech/apis/authentication#api-key-authentication[icon:lock[type=fas]] Delete an Message Template By Id
[.endpoint]
.URI
--
[method]#DELETE# [uri]#/api/message/template/``\{messageTemplateId\}``#
--

==== Request Parameters

[.api]
[field]#messageTemplateId# [type]#[UUID]# [required]#Required#::
The Id of the Message Template to delete.

=== Response

This API does not return a JSON response body.

include::docs/v1/tech/apis/_standard-delete-response-codes.adoc[]


== Preview an Message Template

This API is used to preview an Message Template. You simply pass all of the information for the Message Template in the request and rendered version of the Message is sent back to you in the response. The Message Template in the request does not need to be completely filled out either. You can send in a partial Message Template and the response will contain only what you provided.

=== Request

[.api-authentication]
link:/docs/v1/tech/apis/authentication#api-key-authentication[icon:lock[type=fas]] Preview an Message Template
[.endpoint]
.URI
--
[method]#POST# [uri]#/api/message/template/preview#
--

==== Request Body

[.api]
[field]#messageTemplate.defaultFromName# [type]#[String (FreeMarker Enabled)]# [required]#Required#::
The default From Name used when sending messages. This is the display name part of the message address ( i.e. **Jared Dunn**  <jared@piedpiper.com>).

[field]#messageTemplate.defaultHtmlTemplate# [type]#[String (FreeMarker Enabled)]# [required]#Required#::
The default HTML Message Template.

[field]#messageTemplate.defaultSubject# [type]#[String (FreeMarker Enabled)]# [required]#Required#::
The default Subject used when sending messages.

[field]#messageTemplate.defaultTextTemplate# [type]#[String (FreeMarker Enabled)]# [required]#Required#::
The default Text Message Template.

[field]#messageTemplate.fromMessage# [type]#[String]# [required]#Required#::
The message address that this message will be sent from. This is the address part message address (i.e.  Jared Dunn  <**jared@piedpiper.com**>).

[field]#messageTemplate.localizedFromNames# [type]#[Map<Locale,String (FreeMarker Enabled)>]# [optional]#Optional#::
The From Name used when sending messages to users who speak other languages. This overrides the default From Name based on the user's list of preferred languages.

[field]#messageTemplate.localizedHtmlTemplates# [type]#[Map<Locale,String (FreeMarker Enabled)>]# [optional]#Optional#::
The HTML Message Template used when sending messages to users who speak other languages. This overrides the default HTML Message Template based on the user's list of preferred languages.

[field]#messageTemplate.localizedSubjects# [type]#[Map<Locale,String (FreeMarker Enabled)>]# [optional]#Optional#::
The Subject used when sending messages to users who speak other languages. This overrides the default Subject based on the user's list of preferred languages.

[field]#messageTemplate.localizedTextTemplates# [type]#[Map<Locale,String (FreeMarker Enabled)>]# [optional]#Optional#::
The Text Message Template used when sending messages to users who speak other languages. This overrides the default Text Message Template based on the user's list of preferred languages.

[field]#locale# [type]#[Locale]# [optional]#Optional#::
The locale to use when rendering the Message Template. If this is null, the defaults will be used and the localized versions will be ignored.

[source,json]
.Example Request JSON
----
include::docs/src/json/message-templates/preview-request.json[]
----

=== Response

The response for this API contains the rendered Message and also an Errors that contains any rendering issues FusionAuth found. The template might have syntax or logic errors and FusionAuth will put these errors into the response.

include::docs/v1/tech/apis/_standard-post-response-codes.adoc[]

include::docs/v1/tech/apis/_message-preview-response-body.adoc[]
